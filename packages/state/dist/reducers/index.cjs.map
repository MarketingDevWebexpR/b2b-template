{"version":3,"sources":["../../src/types/state.ts","../../src/types/actions.ts","../../src/reducers/company.reducer.ts","../../src/reducers/quotes.reducer.ts","../../src/reducers/approvals.reducer.ts","../../src/reducers/cart-b2b.reducer.ts","../../src/reducers/index.ts"],"names":["calculatePagination"],"mappings":"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","file":"index.cjs","sourcesContent":["/**\n * Root State Shape for B2B Application\n *\n * This module defines the complete state tree structure for the B2B e-commerce application.\n * Designed to work with any state management library (Redux, Zustand, useReducer).\n *\n * @packageDocumentation\n */\n\nimport type {\n  Company,\n  CompanySummary,\n  Employee,\n  EmployeeSummary,\n  Quote,\n  QuoteSummary,\n  QuoteStatus,\n  QuoteFilters,\n  ApprovalRequest,\n  ApprovalSummary,\n  ApprovalStatus,\n  ApprovalFilters,\n  SpendingLimit,\n} from \"@maison/types\";\n\n// ============================================\n// Loading State\n// ============================================\n\n/**\n * Represents async operation states.\n */\nexport type LoadingStatus = \"idle\" | \"loading\" | \"succeeded\" | \"failed\";\n\n/**\n * Generic async state wrapper for data fetching operations.\n */\nexport interface AsyncState<T> {\n  /** The data being managed */\n  readonly data: T;\n  /** Current loading status */\n  readonly status: LoadingStatus;\n  /** Error message if status is 'failed' */\n  readonly error: string | null;\n  /** ISO timestamp of last successful fetch */\n  readonly lastFetchedAt: string | null;\n}\n\n// ============================================\n// Company State\n// ============================================\n\n/**\n * State for the current B2B company context.\n */\nexport interface CompanyState {\n  /** The currently active company (full details) */\n  readonly currentCompany: Company | null;\n  /** The currently logged-in employee */\n  readonly currentEmployee: Employee | null;\n  /** List of employees in the current company (for selection/display) */\n  readonly employees: readonly EmployeeSummary[];\n  /** Loading state for company data */\n  readonly status: LoadingStatus;\n  /** Error message if company loading failed */\n  readonly error: string | null;\n  /** Whether B2B mode is active (company and employee are set) */\n  readonly isB2BActive: boolean;\n  /** ISO timestamp of last company data refresh */\n  readonly lastRefreshedAt: string | null;\n}\n\n// ============================================\n// Quotes State\n// ============================================\n\n/**\n * State for managing B2B quotes.\n */\nexport interface QuotesState {\n  /** List of quotes (summary view for lists) */\n  readonly quotes: readonly QuoteSummary[];\n  /** Currently selected/viewed quote (full details) */\n  readonly selectedQuote: Quote | null;\n  /** Active filters for quote list */\n  readonly filters: QuoteFilters;\n  /** Active status filter (convenience for common filter) */\n  readonly activeStatusFilter: QuoteStatus | \"all\";\n  /** Search query */\n  readonly searchQuery: string;\n  /** Loading state for quotes list */\n  readonly listStatus: LoadingStatus;\n  /** Loading state for selected quote details */\n  readonly detailStatus: LoadingStatus;\n  /** Error message */\n  readonly error: string | null;\n  /** Pagination */\n  readonly pagination: PaginationState;\n}\n\n// ============================================\n// Approvals State\n// ============================================\n\n/**\n * State for managing B2B approval requests.\n */\nexport interface ApprovalsState {\n  /** List of pending approval requests (summary view) */\n  readonly pendingApprovals: readonly ApprovalSummary[];\n  /** All approval requests (for history view) */\n  readonly allApprovals: readonly ApprovalSummary[];\n  /** Currently selected approval request (full details) */\n  readonly selectedApproval: ApprovalRequest | null;\n  /** Active filters */\n  readonly filters: ApprovalFilters;\n  /** Active status filter */\n  readonly activeStatusFilter: ApprovalStatus | \"all\";\n  /** Loading state for approvals list */\n  readonly listStatus: LoadingStatus;\n  /** Loading state for selected approval details */\n  readonly detailStatus: LoadingStatus;\n  /** Error message */\n  readonly error: string | null;\n  /** Count of pending approvals requiring action */\n  readonly pendingCount: number;\n  /** Pagination */\n  readonly pagination: PaginationState;\n}\n\n// ============================================\n// B2B Cart State\n// ============================================\n\n/**\n * A single item in the B2B cart with bulk ordering support.\n */\nexport interface B2BCartItem {\n  /** Product ID */\n  readonly productId: string;\n  /** Product SKU/reference */\n  readonly productSku: string;\n  /** Product name */\n  readonly productName: string;\n  /** Product image URL */\n  readonly productImage: string;\n  /** Unit price */\n  readonly unitPrice: number;\n  /** Quantity ordered */\n  readonly quantity: number;\n  /** Minimum order quantity (if any) */\n  readonly minOrderQuantity: number;\n  /** Maximum order quantity (stock limit) */\n  readonly maxOrderQuantity: number;\n  /** Line total (quantity * unitPrice) */\n  readonly lineTotal: number;\n  /** Optional notes for this item */\n  readonly notes?: string;\n  /** Custom specifications */\n  readonly specifications?: Readonly<Record<string, string>>;\n}\n\n/**\n * Spending validation result.\n */\nexport interface SpendingValidation {\n  /** Whether the cart total is within spending limits */\n  readonly isWithinLimits: boolean;\n  /** Whether approval is required based on amount */\n  readonly requiresApproval: boolean;\n  /** Reason for requiring approval */\n  readonly approvalReason: string | null;\n  /** Applicable spending limits */\n  readonly applicableLimits: readonly SpendingLimit[];\n  /** Warnings (e.g., approaching limit) */\n  readonly warnings: readonly string[];\n}\n\n/**\n * Cart totals breakdown.\n */\nexport interface B2BCartTotals {\n  /** Sum of line totals */\n  readonly subtotal: number;\n  /** Company tier discount amount */\n  readonly tierDiscount: number;\n  /** Volume discount amount */\n  readonly volumeDiscount: number;\n  /** Total discount */\n  readonly totalDiscount: number;\n  /** Shipping estimate */\n  readonly shippingEstimate: number;\n  /** Tax amount */\n  readonly tax: number;\n  /** Grand total */\n  readonly total: number;\n  /** Currency code */\n  readonly currency: string;\n}\n\n/**\n * State for B2B cart with bulk ordering and spending validation.\n */\nexport interface CartB2BState {\n  /** Cart items */\n  readonly items: readonly B2BCartItem[];\n  /** Total item count */\n  readonly itemCount: number;\n  /** Cart totals breakdown */\n  readonly totals: B2BCartTotals;\n  /** Spending validation result */\n  readonly spendingValidation: SpendingValidation;\n  /** Whether checkout is allowed */\n  readonly canCheckout: boolean;\n  /** Reason checkout is blocked (if any) */\n  readonly checkoutBlockedReason: string | null;\n  /** Selected shipping address ID */\n  readonly shippingAddressId: string | null;\n  /** Purchase order number (optional) */\n  readonly purchaseOrderNumber: string;\n  /** Order notes */\n  readonly notes: string;\n  /** Loading state */\n  readonly status: LoadingStatus;\n  /** Error message */\n  readonly error: string | null;\n  /** ISO timestamp of last cart update */\n  readonly lastUpdatedAt: string | null;\n}\n\n// ============================================\n// Pagination State\n// ============================================\n\n/**\n * Standard pagination state.\n */\nexport interface PaginationState {\n  /** Current page (1-indexed) */\n  readonly currentPage: number;\n  /** Items per page */\n  readonly pageSize: number;\n  /** Total items available */\n  readonly totalItems: number;\n  /** Total pages */\n  readonly totalPages: number;\n  /** Whether there's a next page */\n  readonly hasNextPage: boolean;\n  /** Whether there's a previous page */\n  readonly hasPreviousPage: boolean;\n}\n\n// ============================================\n// Root State\n// ============================================\n\n/**\n * Root state shape for the B2B application.\n * Combines all domain-specific states.\n */\nexport interface RootState {\n  /** Company and employee context */\n  readonly company: CompanyState;\n  /** Quotes management */\n  readonly quotes: QuotesState;\n  /** Approvals management */\n  readonly approvals: ApprovalsState;\n  /** B2B cart with bulk ordering */\n  readonly cartB2B: CartB2BState;\n}\n\n// ============================================\n// Initial States\n// ============================================\n\n/**\n * Default pagination state.\n */\nexport const initialPaginationState: PaginationState = {\n  currentPage: 1,\n  pageSize: 20,\n  totalItems: 0,\n  totalPages: 0,\n  hasNextPage: false,\n  hasPreviousPage: false,\n} as const;\n\n/**\n * Default company state.\n */\nexport const initialCompanyState: CompanyState = {\n  currentCompany: null,\n  currentEmployee: null,\n  employees: [],\n  status: \"idle\",\n  error: null,\n  isB2BActive: false,\n  lastRefreshedAt: null,\n} as const;\n\n/**\n * Default quotes state.\n */\nexport const initialQuotesState: QuotesState = {\n  quotes: [],\n  selectedQuote: null,\n  filters: {},\n  activeStatusFilter: \"all\",\n  searchQuery: \"\",\n  listStatus: \"idle\",\n  detailStatus: \"idle\",\n  error: null,\n  pagination: initialPaginationState,\n} as const;\n\n/**\n * Default approvals state.\n */\nexport const initialApprovalsState: ApprovalsState = {\n  pendingApprovals: [],\n  allApprovals: [],\n  selectedApproval: null,\n  filters: {},\n  activeStatusFilter: \"all\",\n  listStatus: \"idle\",\n  detailStatus: \"idle\",\n  error: null,\n  pendingCount: 0,\n  pagination: initialPaginationState,\n} as const;\n\n/**\n * Default spending validation.\n */\nexport const initialSpendingValidation: SpendingValidation = {\n  isWithinLimits: true,\n  requiresApproval: false,\n  approvalReason: null,\n  applicableLimits: [],\n  warnings: [],\n} as const;\n\n/**\n * Default cart totals.\n */\nexport const initialCartTotals: B2BCartTotals = {\n  subtotal: 0,\n  tierDiscount: 0,\n  volumeDiscount: 0,\n  totalDiscount: 0,\n  shippingEstimate: 0,\n  tax: 0,\n  total: 0,\n  currency: \"EUR\",\n} as const;\n\n/**\n * Default B2B cart state.\n */\nexport const initialCartB2BState: CartB2BState = {\n  items: [],\n  itemCount: 0,\n  totals: initialCartTotals,\n  spendingValidation: initialSpendingValidation,\n  canCheckout: false,\n  checkoutBlockedReason: \"Cart is empty\",\n  shippingAddressId: null,\n  purchaseOrderNumber: \"\",\n  notes: \"\",\n  status: \"idle\",\n  error: null,\n  lastUpdatedAt: null,\n} as const;\n\n/**\n * Default root state.\n */\nexport const initialRootState: RootState = {\n  company: initialCompanyState,\n  quotes: initialQuotesState,\n  approvals: initialApprovalsState,\n  cartB2B: initialCartB2BState,\n} as const;\n","/**\n * Action Type Definitions\n *\n * Defines all action types for the B2B state management system.\n * Uses discriminated unions for type-safe action handling.\n *\n * @packageDocumentation\n */\n\nimport type {\n  Company,\n  Employee,\n  EmployeeSummary,\n  Quote,\n  QuoteSummary,\n  QuoteFilters,\n  QuoteStatus,\n  ApprovalRequest,\n  ApprovalSummary,\n  ApprovalFilters,\n  ApprovalStatus,\n  ApprovalAction,\n  SpendingLimit,\n} from \"@maison/types\";\n\nimport type {\n  B2BCartItem,\n  B2BCartTotals,\n  SpendingValidation,\n  PaginationState,\n} from \"./state\";\n\n// ============================================\n// Action Type Constants\n// ============================================\n\n/**\n * Company action type constants.\n */\nexport const CompanyActionTypes = {\n  // Fetch company\n  FETCH_COMPANY_START: \"company/fetchStart\",\n  FETCH_COMPANY_SUCCESS: \"company/fetchSuccess\",\n  FETCH_COMPANY_FAILURE: \"company/fetchFailure\",\n  // Set current context\n  SET_CURRENT_COMPANY: \"company/setCurrent\",\n  SET_CURRENT_EMPLOYEE: \"company/setCurrentEmployee\",\n  // Employee management\n  LOAD_EMPLOYEES: \"company/loadEmployees\",\n  // Reset\n  RESET_COMPANY_STATE: \"company/reset\",\n  CLEAR_COMPANY_ERROR: \"company/clearError\",\n} as const;\n\n/**\n * Quotes action type constants.\n */\nexport const QuotesActionTypes = {\n  // Fetch quotes list\n  FETCH_QUOTES_START: \"quotes/fetchListStart\",\n  FETCH_QUOTES_SUCCESS: \"quotes/fetchListSuccess\",\n  FETCH_QUOTES_FAILURE: \"quotes/fetchListFailure\",\n  // Fetch single quote\n  FETCH_QUOTE_DETAIL_START: \"quotes/fetchDetailStart\",\n  FETCH_QUOTE_DETAIL_SUCCESS: \"quotes/fetchDetailSuccess\",\n  FETCH_QUOTE_DETAIL_FAILURE: \"quotes/fetchDetailFailure\",\n  // Selection\n  SELECT_QUOTE: \"quotes/select\",\n  CLEAR_SELECTED_QUOTE: \"quotes/clearSelected\",\n  // Filters\n  SET_QUOTE_FILTERS: \"quotes/setFilters\",\n  SET_QUOTE_STATUS_FILTER: \"quotes/setStatusFilter\",\n  SET_QUOTE_SEARCH: \"quotes/setSearch\",\n  CLEAR_QUOTE_FILTERS: \"quotes/clearFilters\",\n  // Pagination\n  SET_QUOTES_PAGINATION: \"quotes/setPagination\",\n  SET_QUOTES_PAGE: \"quotes/setPage\",\n  // Quote operations\n  CREATE_QUOTE_SUCCESS: \"quotes/createSuccess\",\n  UPDATE_QUOTE_SUCCESS: \"quotes/updateSuccess\",\n  // Reset\n  RESET_QUOTES_STATE: \"quotes/reset\",\n  CLEAR_QUOTES_ERROR: \"quotes/clearError\",\n} as const;\n\n/**\n * Approvals action type constants.\n */\nexport const ApprovalsActionTypes = {\n  // Fetch approvals\n  FETCH_APPROVALS_START: \"approvals/fetchListStart\",\n  FETCH_APPROVALS_SUCCESS: \"approvals/fetchListSuccess\",\n  FETCH_APPROVALS_FAILURE: \"approvals/fetchListFailure\",\n  // Fetch pending\n  FETCH_PENDING_START: \"approvals/fetchPendingStart\",\n  FETCH_PENDING_SUCCESS: \"approvals/fetchPendingSuccess\",\n  FETCH_PENDING_FAILURE: \"approvals/fetchPendingFailure\",\n  // Fetch detail\n  FETCH_APPROVAL_DETAIL_START: \"approvals/fetchDetailStart\",\n  FETCH_APPROVAL_DETAIL_SUCCESS: \"approvals/fetchDetailSuccess\",\n  FETCH_APPROVAL_DETAIL_FAILURE: \"approvals/fetchDetailFailure\",\n  // Selection\n  SELECT_APPROVAL: \"approvals/select\",\n  CLEAR_SELECTED_APPROVAL: \"approvals/clearSelected\",\n  // Filters\n  SET_APPROVAL_FILTERS: \"approvals/setFilters\",\n  SET_APPROVAL_STATUS_FILTER: \"approvals/setStatusFilter\",\n  CLEAR_APPROVAL_FILTERS: \"approvals/clearFilters\",\n  // Pagination\n  SET_APPROVALS_PAGINATION: \"approvals/setPagination\",\n  SET_APPROVALS_PAGE: \"approvals/setPage\",\n  // Actions\n  APPROVAL_ACTION_SUCCESS: \"approvals/actionSuccess\",\n  UPDATE_PENDING_COUNT: \"approvals/updatePendingCount\",\n  // Reset\n  RESET_APPROVALS_STATE: \"approvals/reset\",\n  CLEAR_APPROVALS_ERROR: \"approvals/clearError\",\n} as const;\n\n/**\n * Cart B2B action type constants.\n */\nexport const CartB2BActionTypes = {\n  // Item operations\n  ADD_ITEM: \"cartB2B/addItem\",\n  UPDATE_ITEM_QUANTITY: \"cartB2B/updateItemQuantity\",\n  REMOVE_ITEM: \"cartB2B/removeItem\",\n  UPDATE_ITEM_NOTES: \"cartB2B/updateItemNotes\",\n  CLEAR_CART: \"cartB2B/clear\",\n  // Bulk operations\n  ADD_ITEMS_BULK: \"cartB2B/addItemsBulk\",\n  // Cart metadata\n  SET_SHIPPING_ADDRESS: \"cartB2B/setShippingAddress\",\n  SET_PURCHASE_ORDER_NUMBER: \"cartB2B/setPurchaseOrderNumber\",\n  SET_NOTES: \"cartB2B/setNotes\",\n  // Totals and validation\n  UPDATE_TOTALS: \"cartB2B/updateTotals\",\n  UPDATE_SPENDING_VALIDATION: \"cartB2B/updateSpendingValidation\",\n  // Loading states\n  CART_LOADING_START: \"cartB2B/loadingStart\",\n  CART_LOADING_SUCCESS: \"cartB2B/loadingSuccess\",\n  CART_LOADING_FAILURE: \"cartB2B/loadingFailure\",\n  // Hydration\n  HYDRATE_CART: \"cartB2B/hydrate\",\n  // Reset\n  RESET_CART_STATE: \"cartB2B/reset\",\n  CLEAR_CART_ERROR: \"cartB2B/clearError\",\n} as const;\n\n// ============================================\n// Company Actions\n// ============================================\n\nexport interface FetchCompanyStartAction {\n  readonly type: typeof CompanyActionTypes.FETCH_COMPANY_START;\n}\n\nexport interface FetchCompanySuccessAction {\n  readonly type: typeof CompanyActionTypes.FETCH_COMPANY_SUCCESS;\n  readonly payload: {\n    readonly company: Company;\n    readonly employee: Employee;\n  };\n}\n\nexport interface FetchCompanyFailureAction {\n  readonly type: typeof CompanyActionTypes.FETCH_COMPANY_FAILURE;\n  readonly payload: {\n    readonly error: string;\n  };\n}\n\nexport interface SetCurrentCompanyAction {\n  readonly type: typeof CompanyActionTypes.SET_CURRENT_COMPANY;\n  readonly payload: {\n    readonly company: Company | null;\n  };\n}\n\nexport interface SetCurrentEmployeeAction {\n  readonly type: typeof CompanyActionTypes.SET_CURRENT_EMPLOYEE;\n  readonly payload: {\n    readonly employee: Employee | null;\n  };\n}\n\nexport interface LoadEmployeesAction {\n  readonly type: typeof CompanyActionTypes.LOAD_EMPLOYEES;\n  readonly payload: {\n    readonly employees: readonly EmployeeSummary[];\n  };\n}\n\nexport interface ResetCompanyStateAction {\n  readonly type: typeof CompanyActionTypes.RESET_COMPANY_STATE;\n}\n\nexport interface ClearCompanyErrorAction {\n  readonly type: typeof CompanyActionTypes.CLEAR_COMPANY_ERROR;\n}\n\nexport type CompanyAction =\n  | FetchCompanyStartAction\n  | FetchCompanySuccessAction\n  | FetchCompanyFailureAction\n  | SetCurrentCompanyAction\n  | SetCurrentEmployeeAction\n  | LoadEmployeesAction\n  | ResetCompanyStateAction\n  | ClearCompanyErrorAction;\n\n// ============================================\n// Quotes Actions\n// ============================================\n\nexport interface FetchQuotesStartAction {\n  readonly type: typeof QuotesActionTypes.FETCH_QUOTES_START;\n}\n\nexport interface FetchQuotesSuccessAction {\n  readonly type: typeof QuotesActionTypes.FETCH_QUOTES_SUCCESS;\n  readonly payload: {\n    readonly quotes: readonly QuoteSummary[];\n    readonly pagination: PaginationState;\n  };\n}\n\nexport interface FetchQuotesFailureAction {\n  readonly type: typeof QuotesActionTypes.FETCH_QUOTES_FAILURE;\n  readonly payload: {\n    readonly error: string;\n  };\n}\n\nexport interface FetchQuoteDetailStartAction {\n  readonly type: typeof QuotesActionTypes.FETCH_QUOTE_DETAIL_START;\n}\n\nexport interface FetchQuoteDetailSuccessAction {\n  readonly type: typeof QuotesActionTypes.FETCH_QUOTE_DETAIL_SUCCESS;\n  readonly payload: {\n    readonly quote: Quote;\n  };\n}\n\nexport interface FetchQuoteDetailFailureAction {\n  readonly type: typeof QuotesActionTypes.FETCH_QUOTE_DETAIL_FAILURE;\n  readonly payload: {\n    readonly error: string;\n  };\n}\n\nexport interface SelectQuoteAction {\n  readonly type: typeof QuotesActionTypes.SELECT_QUOTE;\n  readonly payload: {\n    readonly quoteId: string;\n  };\n}\n\nexport interface ClearSelectedQuoteAction {\n  readonly type: typeof QuotesActionTypes.CLEAR_SELECTED_QUOTE;\n}\n\nexport interface SetQuoteFiltersAction {\n  readonly type: typeof QuotesActionTypes.SET_QUOTE_FILTERS;\n  readonly payload: {\n    readonly filters: QuoteFilters;\n  };\n}\n\nexport interface SetQuoteStatusFilterAction {\n  readonly type: typeof QuotesActionTypes.SET_QUOTE_STATUS_FILTER;\n  readonly payload: {\n    readonly status: QuoteStatus | \"all\";\n  };\n}\n\nexport interface SetQuoteSearchAction {\n  readonly type: typeof QuotesActionTypes.SET_QUOTE_SEARCH;\n  readonly payload: {\n    readonly query: string;\n  };\n}\n\nexport interface ClearQuoteFiltersAction {\n  readonly type: typeof QuotesActionTypes.CLEAR_QUOTE_FILTERS;\n}\n\nexport interface SetQuotesPaginationAction {\n  readonly type: typeof QuotesActionTypes.SET_QUOTES_PAGINATION;\n  readonly payload: {\n    readonly pagination: PaginationState;\n  };\n}\n\nexport interface SetQuotesPageAction {\n  readonly type: typeof QuotesActionTypes.SET_QUOTES_PAGE;\n  readonly payload: {\n    readonly page: number;\n  };\n}\n\nexport interface CreateQuoteSuccessAction {\n  readonly type: typeof QuotesActionTypes.CREATE_QUOTE_SUCCESS;\n  readonly payload: {\n    readonly quote: QuoteSummary;\n  };\n}\n\nexport interface UpdateQuoteSuccessAction {\n  readonly type: typeof QuotesActionTypes.UPDATE_QUOTE_SUCCESS;\n  readonly payload: {\n    readonly quote: Quote;\n  };\n}\n\nexport interface ResetQuotesStateAction {\n  readonly type: typeof QuotesActionTypes.RESET_QUOTES_STATE;\n}\n\nexport interface ClearQuotesErrorAction {\n  readonly type: typeof QuotesActionTypes.CLEAR_QUOTES_ERROR;\n}\n\nexport type QuotesAction =\n  | FetchQuotesStartAction\n  | FetchQuotesSuccessAction\n  | FetchQuotesFailureAction\n  | FetchQuoteDetailStartAction\n  | FetchQuoteDetailSuccessAction\n  | FetchQuoteDetailFailureAction\n  | SelectQuoteAction\n  | ClearSelectedQuoteAction\n  | SetQuoteFiltersAction\n  | SetQuoteStatusFilterAction\n  | SetQuoteSearchAction\n  | ClearQuoteFiltersAction\n  | SetQuotesPaginationAction\n  | SetQuotesPageAction\n  | CreateQuoteSuccessAction\n  | UpdateQuoteSuccessAction\n  | ResetQuotesStateAction\n  | ClearQuotesErrorAction;\n\n// ============================================\n// Approvals Actions\n// ============================================\n\nexport interface FetchApprovalsStartAction {\n  readonly type: typeof ApprovalsActionTypes.FETCH_APPROVALS_START;\n}\n\nexport interface FetchApprovalsSuccessAction {\n  readonly type: typeof ApprovalsActionTypes.FETCH_APPROVALS_SUCCESS;\n  readonly payload: {\n    readonly approvals: readonly ApprovalSummary[];\n    readonly pagination: PaginationState;\n  };\n}\n\nexport interface FetchApprovalsFailureAction {\n  readonly type: typeof ApprovalsActionTypes.FETCH_APPROVALS_FAILURE;\n  readonly payload: {\n    readonly error: string;\n  };\n}\n\nexport interface FetchPendingStartAction {\n  readonly type: typeof ApprovalsActionTypes.FETCH_PENDING_START;\n}\n\nexport interface FetchPendingSuccessAction {\n  readonly type: typeof ApprovalsActionTypes.FETCH_PENDING_SUCCESS;\n  readonly payload: {\n    readonly approvals: readonly ApprovalSummary[];\n    readonly count: number;\n  };\n}\n\nexport interface FetchPendingFailureAction {\n  readonly type: typeof ApprovalsActionTypes.FETCH_PENDING_FAILURE;\n  readonly payload: {\n    readonly error: string;\n  };\n}\n\nexport interface FetchApprovalDetailStartAction {\n  readonly type: typeof ApprovalsActionTypes.FETCH_APPROVAL_DETAIL_START;\n}\n\nexport interface FetchApprovalDetailSuccessAction {\n  readonly type: typeof ApprovalsActionTypes.FETCH_APPROVAL_DETAIL_SUCCESS;\n  readonly payload: {\n    readonly approval: ApprovalRequest;\n  };\n}\n\nexport interface FetchApprovalDetailFailureAction {\n  readonly type: typeof ApprovalsActionTypes.FETCH_APPROVAL_DETAIL_FAILURE;\n  readonly payload: {\n    readonly error: string;\n  };\n}\n\nexport interface SelectApprovalAction {\n  readonly type: typeof ApprovalsActionTypes.SELECT_APPROVAL;\n  readonly payload: {\n    readonly approvalId: string;\n  };\n}\n\nexport interface ClearSelectedApprovalAction {\n  readonly type: typeof ApprovalsActionTypes.CLEAR_SELECTED_APPROVAL;\n}\n\nexport interface SetApprovalFiltersAction {\n  readonly type: typeof ApprovalsActionTypes.SET_APPROVAL_FILTERS;\n  readonly payload: {\n    readonly filters: ApprovalFilters;\n  };\n}\n\nexport interface SetApprovalStatusFilterAction {\n  readonly type: typeof ApprovalsActionTypes.SET_APPROVAL_STATUS_FILTER;\n  readonly payload: {\n    readonly status: ApprovalStatus | \"all\";\n  };\n}\n\nexport interface ClearApprovalFiltersAction {\n  readonly type: typeof ApprovalsActionTypes.CLEAR_APPROVAL_FILTERS;\n}\n\nexport interface SetApprovalsPaginationAction {\n  readonly type: typeof ApprovalsActionTypes.SET_APPROVALS_PAGINATION;\n  readonly payload: {\n    readonly pagination: PaginationState;\n  };\n}\n\nexport interface SetApprovalsPageAction {\n  readonly type: typeof ApprovalsActionTypes.SET_APPROVALS_PAGE;\n  readonly payload: {\n    readonly page: number;\n  };\n}\n\nexport interface ApprovalActionSuccessAction {\n  readonly type: typeof ApprovalsActionTypes.APPROVAL_ACTION_SUCCESS;\n  readonly payload: {\n    readonly approvalId: string;\n    readonly action: ApprovalAction;\n    readonly updatedApproval: ApprovalRequest;\n  };\n}\n\nexport interface UpdatePendingCountAction {\n  readonly type: typeof ApprovalsActionTypes.UPDATE_PENDING_COUNT;\n  readonly payload: {\n    readonly count: number;\n  };\n}\n\nexport interface ResetApprovalsStateAction {\n  readonly type: typeof ApprovalsActionTypes.RESET_APPROVALS_STATE;\n}\n\nexport interface ClearApprovalsErrorAction {\n  readonly type: typeof ApprovalsActionTypes.CLEAR_APPROVALS_ERROR;\n}\n\nexport type ApprovalsAction =\n  | FetchApprovalsStartAction\n  | FetchApprovalsSuccessAction\n  | FetchApprovalsFailureAction\n  | FetchPendingStartAction\n  | FetchPendingSuccessAction\n  | FetchPendingFailureAction\n  | FetchApprovalDetailStartAction\n  | FetchApprovalDetailSuccessAction\n  | FetchApprovalDetailFailureAction\n  | SelectApprovalAction\n  | ClearSelectedApprovalAction\n  | SetApprovalFiltersAction\n  | SetApprovalStatusFilterAction\n  | ClearApprovalFiltersAction\n  | SetApprovalsPaginationAction\n  | SetApprovalsPageAction\n  | ApprovalActionSuccessAction\n  | UpdatePendingCountAction\n  | ResetApprovalsStateAction\n  | ClearApprovalsErrorAction;\n\n// ============================================\n// Cart B2B Actions\n// ============================================\n\nexport interface AddItemAction {\n  readonly type: typeof CartB2BActionTypes.ADD_ITEM;\n  readonly payload: {\n    readonly item: B2BCartItem;\n  };\n}\n\nexport interface UpdateItemQuantityAction {\n  readonly type: typeof CartB2BActionTypes.UPDATE_ITEM_QUANTITY;\n  readonly payload: {\n    readonly productId: string;\n    readonly quantity: number;\n  };\n}\n\nexport interface RemoveItemAction {\n  readonly type: typeof CartB2BActionTypes.REMOVE_ITEM;\n  readonly payload: {\n    readonly productId: string;\n  };\n}\n\nexport interface UpdateItemNotesAction {\n  readonly type: typeof CartB2BActionTypes.UPDATE_ITEM_NOTES;\n  readonly payload: {\n    readonly productId: string;\n    readonly notes: string;\n  };\n}\n\nexport interface ClearCartAction {\n  readonly type: typeof CartB2BActionTypes.CLEAR_CART;\n}\n\nexport interface AddItemsBulkAction {\n  readonly type: typeof CartB2BActionTypes.ADD_ITEMS_BULK;\n  readonly payload: {\n    readonly items: readonly B2BCartItem[];\n  };\n}\n\nexport interface SetShippingAddressAction {\n  readonly type: typeof CartB2BActionTypes.SET_SHIPPING_ADDRESS;\n  readonly payload: {\n    readonly addressId: string | null;\n  };\n}\n\nexport interface SetPurchaseOrderNumberAction {\n  readonly type: typeof CartB2BActionTypes.SET_PURCHASE_ORDER_NUMBER;\n  readonly payload: {\n    readonly poNumber: string;\n  };\n}\n\nexport interface SetCartNotesAction {\n  readonly type: typeof CartB2BActionTypes.SET_NOTES;\n  readonly payload: {\n    readonly notes: string;\n  };\n}\n\nexport interface UpdateTotalsAction {\n  readonly type: typeof CartB2BActionTypes.UPDATE_TOTALS;\n  readonly payload: {\n    readonly totals: B2BCartTotals;\n  };\n}\n\nexport interface UpdateSpendingValidationAction {\n  readonly type: typeof CartB2BActionTypes.UPDATE_SPENDING_VALIDATION;\n  readonly payload: {\n    readonly validation: SpendingValidation;\n    readonly limits: readonly SpendingLimit[];\n  };\n}\n\nexport interface CartLoadingStartAction {\n  readonly type: typeof CartB2BActionTypes.CART_LOADING_START;\n}\n\nexport interface CartLoadingSuccessAction {\n  readonly type: typeof CartB2BActionTypes.CART_LOADING_SUCCESS;\n}\n\nexport interface CartLoadingFailureAction {\n  readonly type: typeof CartB2BActionTypes.CART_LOADING_FAILURE;\n  readonly payload: {\n    readonly error: string;\n  };\n}\n\nexport interface HydrateCartAction {\n  readonly type: typeof CartB2BActionTypes.HYDRATE_CART;\n  readonly payload: {\n    readonly items: readonly B2BCartItem[];\n    readonly shippingAddressId: string | null;\n    readonly purchaseOrderNumber: string;\n    readonly notes: string;\n  };\n}\n\nexport interface ResetCartStateAction {\n  readonly type: typeof CartB2BActionTypes.RESET_CART_STATE;\n}\n\nexport interface ClearCartErrorAction {\n  readonly type: typeof CartB2BActionTypes.CLEAR_CART_ERROR;\n}\n\nexport type CartB2BAction =\n  | AddItemAction\n  | UpdateItemQuantityAction\n  | RemoveItemAction\n  | UpdateItemNotesAction\n  | ClearCartAction\n  | AddItemsBulkAction\n  | SetShippingAddressAction\n  | SetPurchaseOrderNumberAction\n  | SetCartNotesAction\n  | UpdateTotalsAction\n  | UpdateSpendingValidationAction\n  | CartLoadingStartAction\n  | CartLoadingSuccessAction\n  | CartLoadingFailureAction\n  | HydrateCartAction\n  | ResetCartStateAction\n  | ClearCartErrorAction;\n\n// ============================================\n// Combined Action Type\n// ============================================\n\n/**\n * Union of all possible actions in the B2B state management system.\n */\nexport type RootAction =\n  | CompanyAction\n  | QuotesAction\n  | ApprovalsAction\n  | CartB2BAction;\n","/**\n * Company Reducer\n *\n * Manages company and employee context state for B2B operations.\n * Pure function with no side effects - compatible with Redux, Zustand, or useReducer.\n *\n * @packageDocumentation\n */\n\nimport type { CompanyState } from \"../types/state\";\nimport type { CompanyAction } from \"../types/actions\";\nimport { CompanyActionTypes } from \"../types/actions\";\nimport { initialCompanyState } from \"../types/state\";\n\n/**\n * Reducer for company state management.\n *\n * Handles:\n * - Fetching and setting current company\n * - Fetching and setting current employee\n * - Loading company employees\n * - B2B active state management\n *\n * @param state - Current company state\n * @param action - Action to process\n * @returns New company state\n *\n * @example\n * ```ts\n * const newState = companyReducer(currentState, {\n *   type: CompanyActionTypes.SET_CURRENT_COMPANY,\n *   payload: { company: companyData }\n * });\n * ```\n */\nexport function companyReducer(\n  state: CompanyState = initialCompanyState,\n  action: CompanyAction\n): CompanyState {\n  switch (action.type) {\n    case CompanyActionTypes.FETCH_COMPANY_START: {\n      return {\n        ...state,\n        status: \"loading\",\n        error: null,\n      };\n    }\n\n    case CompanyActionTypes.FETCH_COMPANY_SUCCESS: {\n      const { company, employee } = action.payload;\n      return {\n        ...state,\n        currentCompany: company,\n        currentEmployee: employee,\n        status: \"succeeded\",\n        error: null,\n        isB2BActive: true,\n        lastRefreshedAt: new Date().toISOString(),\n      };\n    }\n\n    case CompanyActionTypes.FETCH_COMPANY_FAILURE: {\n      return {\n        ...state,\n        status: \"failed\",\n        error: action.payload.error,\n        isB2BActive: false,\n      };\n    }\n\n    case CompanyActionTypes.SET_CURRENT_COMPANY: {\n      const { company } = action.payload;\n      const isB2BActive = company !== null && state.currentEmployee !== null;\n      return {\n        ...state,\n        currentCompany: company,\n        isB2BActive,\n        lastRefreshedAt: company !== null ? new Date().toISOString() : state.lastRefreshedAt,\n      };\n    }\n\n    case CompanyActionTypes.SET_CURRENT_EMPLOYEE: {\n      const { employee } = action.payload;\n      const isB2BActive = state.currentCompany !== null && employee !== null;\n      return {\n        ...state,\n        currentEmployee: employee,\n        isB2BActive,\n      };\n    }\n\n    case CompanyActionTypes.LOAD_EMPLOYEES: {\n      return {\n        ...state,\n        employees: action.payload.employees,\n      };\n    }\n\n    case CompanyActionTypes.RESET_COMPANY_STATE: {\n      return initialCompanyState;\n    }\n\n    case CompanyActionTypes.CLEAR_COMPANY_ERROR: {\n      return {\n        ...state,\n        error: null,\n      };\n    }\n\n    default: {\n      return state;\n    }\n  }\n}\n\nexport default companyReducer;\n","/**\n * Quotes Reducer\n *\n * Manages quote list, filters, and selection state for B2B quote management.\n * Pure function with no side effects - compatible with Redux, Zustand, or useReducer.\n *\n * @packageDocumentation\n */\n\nimport type { QuotesState } from \"../types/state\";\nimport type { QuotesAction } from \"../types/actions\";\nimport { QuotesActionTypes } from \"../types/actions\";\nimport { initialQuotesState, initialPaginationState } from \"../types/state\";\n\n/**\n * Calculates pagination metadata from raw values.\n *\n * @param currentPage - Current page number\n * @param pageSize - Items per page\n * @param totalItems - Total number of items\n * @returns Complete pagination state\n */\nfunction calculatePagination(\n  currentPage: number,\n  pageSize: number,\n  totalItems: number\n): {\n  readonly currentPage: number;\n  readonly pageSize: number;\n  readonly totalItems: number;\n  readonly totalPages: number;\n  readonly hasNextPage: boolean;\n  readonly hasPreviousPage: boolean;\n} {\n  const totalPages = Math.ceil(totalItems / pageSize);\n  return {\n    currentPage,\n    pageSize,\n    totalItems,\n    totalPages,\n    hasNextPage: currentPage < totalPages,\n    hasPreviousPage: currentPage > 1,\n  };\n}\n\n/**\n * Reducer for quotes state management.\n *\n * Handles:\n * - Fetching and displaying quote lists\n * - Fetching and viewing quote details\n * - Quote filtering and search\n * - Quote selection\n * - Pagination\n * - Quote CRUD operations\n *\n * @param state - Current quotes state\n * @param action - Action to process\n * @returns New quotes state\n *\n * @example\n * ```ts\n * const newState = quotesReducer(currentState, {\n *   type: QuotesActionTypes.SET_QUOTE_STATUS_FILTER,\n *   payload: { status: 'pending' }\n * });\n * ```\n */\nexport function quotesReducer(\n  state: QuotesState = initialQuotesState,\n  action: QuotesAction\n): QuotesState {\n  switch (action.type) {\n    case QuotesActionTypes.FETCH_QUOTES_START: {\n      return {\n        ...state,\n        listStatus: \"loading\",\n        error: null,\n      };\n    }\n\n    case QuotesActionTypes.FETCH_QUOTES_SUCCESS: {\n      return {\n        ...state,\n        quotes: action.payload.quotes,\n        pagination: action.payload.pagination,\n        listStatus: \"succeeded\",\n        error: null,\n      };\n    }\n\n    case QuotesActionTypes.FETCH_QUOTES_FAILURE: {\n      return {\n        ...state,\n        listStatus: \"failed\",\n        error: action.payload.error,\n      };\n    }\n\n    case QuotesActionTypes.FETCH_QUOTE_DETAIL_START: {\n      return {\n        ...state,\n        detailStatus: \"loading\",\n        error: null,\n      };\n    }\n\n    case QuotesActionTypes.FETCH_QUOTE_DETAIL_SUCCESS: {\n      return {\n        ...state,\n        selectedQuote: action.payload.quote,\n        detailStatus: \"succeeded\",\n        error: null,\n      };\n    }\n\n    case QuotesActionTypes.FETCH_QUOTE_DETAIL_FAILURE: {\n      return {\n        ...state,\n        detailStatus: \"failed\",\n        error: action.payload.error,\n      };\n    }\n\n    case QuotesActionTypes.SELECT_QUOTE: {\n      // Find the quote in the list and set as selected (summary only)\n      const quote = state.quotes.find((q) => q.id === action.payload.quoteId);\n      if (quote === undefined) {\n        return state;\n      }\n      // Note: selectedQuote expects full Quote, but we only have QuoteSummary here\n      // The caller should use FETCH_QUOTE_DETAIL_SUCCESS to set the full quote\n      return state;\n    }\n\n    case QuotesActionTypes.CLEAR_SELECTED_QUOTE: {\n      return {\n        ...state,\n        selectedQuote: null,\n        detailStatus: \"idle\",\n      };\n    }\n\n    case QuotesActionTypes.SET_QUOTE_FILTERS: {\n      return {\n        ...state,\n        filters: action.payload.filters,\n        pagination: {\n          ...state.pagination,\n          currentPage: 1, // Reset to first page on filter change\n        },\n      };\n    }\n\n    case QuotesActionTypes.SET_QUOTE_STATUS_FILTER: {\n      // Create new filters, removing status key when 'all' is selected\n      const { status: _unusedStatus, ...restFilters } = state.filters;\n      const newFilters =\n        action.payload.status === \"all\"\n          ? restFilters\n          : { ...restFilters, status: action.payload.status };\n\n      return {\n        ...state,\n        activeStatusFilter: action.payload.status,\n        filters: newFilters,\n        pagination: {\n          ...state.pagination,\n          currentPage: 1,\n        },\n      };\n    }\n\n    case QuotesActionTypes.SET_QUOTE_SEARCH: {\n      // Handle search filter, removing key when empty\n      const { search: _unusedSearch, ...filtersWithoutSearch } = state.filters;\n      const newFilters = action.payload.query\n        ? { ...filtersWithoutSearch, search: action.payload.query }\n        : filtersWithoutSearch;\n\n      return {\n        ...state,\n        searchQuery: action.payload.query,\n        filters: newFilters,\n        pagination: {\n          ...state.pagination,\n          currentPage: 1,\n        },\n      };\n    }\n\n    case QuotesActionTypes.CLEAR_QUOTE_FILTERS: {\n      return {\n        ...state,\n        filters: {},\n        activeStatusFilter: \"all\",\n        searchQuery: \"\",\n        pagination: {\n          ...state.pagination,\n          currentPage: 1,\n        },\n      };\n    }\n\n    case QuotesActionTypes.SET_QUOTES_PAGINATION: {\n      return {\n        ...state,\n        pagination: action.payload.pagination,\n      };\n    }\n\n    case QuotesActionTypes.SET_QUOTES_PAGE: {\n      const newPagination = calculatePagination(\n        action.payload.page,\n        state.pagination.pageSize,\n        state.pagination.totalItems\n      );\n      return {\n        ...state,\n        pagination: newPagination,\n      };\n    }\n\n    case QuotesActionTypes.CREATE_QUOTE_SUCCESS: {\n      // Add new quote to the beginning of the list\n      return {\n        ...state,\n        quotes: [action.payload.quote, ...state.quotes],\n        pagination: {\n          ...state.pagination,\n          totalItems: state.pagination.totalItems + 1,\n          totalPages: Math.ceil(\n            (state.pagination.totalItems + 1) / state.pagination.pageSize\n          ),\n        },\n      };\n    }\n\n    case QuotesActionTypes.UPDATE_QUOTE_SUCCESS: {\n      const updatedQuote = action.payload.quote;\n      // Update in list if present\n      const updatedQuotes = state.quotes.map((q) =>\n        q.id === updatedQuote.id\n          ? {\n              id: updatedQuote.id,\n              quoteNumber: updatedQuote.quoteNumber,\n              companyId: updatedQuote.companyId,\n              companyName: updatedQuote.companyName,\n              status: updatedQuote.status,\n              priority: updatedQuote.priority,\n              itemCount: updatedQuote.items.length,\n              total: updatedQuote.totals.total,\n              currency: updatedQuote.totals.currency,\n              validUntil: updatedQuote.validUntil,\n              createdAt: updatedQuote.createdAt,\n              updatedAt: updatedQuote.updatedAt,\n              hasUnreadMessages: updatedQuote.unreadMessageCount > 0,\n            }\n          : q\n      );\n\n      return {\n        ...state,\n        quotes: updatedQuotes,\n        selectedQuote:\n          state.selectedQuote?.id === updatedQuote.id\n            ? updatedQuote\n            : state.selectedQuote,\n      };\n    }\n\n    case QuotesActionTypes.RESET_QUOTES_STATE: {\n      return initialQuotesState;\n    }\n\n    case QuotesActionTypes.CLEAR_QUOTES_ERROR: {\n      return {\n        ...state,\n        error: null,\n      };\n    }\n\n    default: {\n      return state;\n    }\n  }\n}\n\nexport default quotesReducer;\n","/**\n * Approvals Reducer\n *\n * Manages approval requests, filters, and pending counts for B2B workflow management.\n * Pure function with no side effects - compatible with Redux, Zustand, or useReducer.\n *\n * @packageDocumentation\n */\n\nimport type { ApprovalsState } from \"../types/state\";\nimport type { ApprovalsAction } from \"../types/actions\";\nimport { ApprovalsActionTypes } from \"../types/actions\";\nimport { initialApprovalsState } from \"../types/state\";\n\n/**\n * Calculates pagination metadata from raw values.\n *\n * @param currentPage - Current page number\n * @param pageSize - Items per page\n * @param totalItems - Total number of items\n * @returns Complete pagination state\n */\nfunction calculatePagination(\n  currentPage: number,\n  pageSize: number,\n  totalItems: number\n): {\n  readonly currentPage: number;\n  readonly pageSize: number;\n  readonly totalItems: number;\n  readonly totalPages: number;\n  readonly hasNextPage: boolean;\n  readonly hasPreviousPage: boolean;\n} {\n  const totalPages = Math.ceil(totalItems / pageSize);\n  return {\n    currentPage,\n    pageSize,\n    totalItems,\n    totalPages,\n    hasNextPage: currentPage < totalPages,\n    hasPreviousPage: currentPage > 1,\n  };\n}\n\n/**\n * Reducer for approvals state management.\n *\n * Handles:\n * - Fetching pending and all approval requests\n * - Fetching approval details\n * - Filtering and searching approvals\n * - Approval selection\n * - Processing approval actions (approve, reject, etc.)\n * - Tracking pending approval counts\n * - Pagination\n *\n * @param state - Current approvals state\n * @param action - Action to process\n * @returns New approvals state\n *\n * @example\n * ```ts\n * const newState = approvalsReducer(currentState, {\n *   type: ApprovalsActionTypes.APPROVAL_ACTION_SUCCESS,\n *   payload: { approvalId: '123', action: 'approve', updatedApproval: approval }\n * });\n * ```\n */\nexport function approvalsReducer(\n  state: ApprovalsState = initialApprovalsState,\n  action: ApprovalsAction\n): ApprovalsState {\n  switch (action.type) {\n    case ApprovalsActionTypes.FETCH_APPROVALS_START: {\n      return {\n        ...state,\n        listStatus: \"loading\",\n        error: null,\n      };\n    }\n\n    case ApprovalsActionTypes.FETCH_APPROVALS_SUCCESS: {\n      return {\n        ...state,\n        allApprovals: action.payload.approvals,\n        pagination: action.payload.pagination,\n        listStatus: \"succeeded\",\n        error: null,\n      };\n    }\n\n    case ApprovalsActionTypes.FETCH_APPROVALS_FAILURE: {\n      return {\n        ...state,\n        listStatus: \"failed\",\n        error: action.payload.error,\n      };\n    }\n\n    case ApprovalsActionTypes.FETCH_PENDING_START: {\n      return {\n        ...state,\n        listStatus: \"loading\",\n        error: null,\n      };\n    }\n\n    case ApprovalsActionTypes.FETCH_PENDING_SUCCESS: {\n      return {\n        ...state,\n        pendingApprovals: action.payload.approvals,\n        pendingCount: action.payload.count,\n        listStatus: \"succeeded\",\n        error: null,\n      };\n    }\n\n    case ApprovalsActionTypes.FETCH_PENDING_FAILURE: {\n      return {\n        ...state,\n        listStatus: \"failed\",\n        error: action.payload.error,\n      };\n    }\n\n    case ApprovalsActionTypes.FETCH_APPROVAL_DETAIL_START: {\n      return {\n        ...state,\n        detailStatus: \"loading\",\n        error: null,\n      };\n    }\n\n    case ApprovalsActionTypes.FETCH_APPROVAL_DETAIL_SUCCESS: {\n      return {\n        ...state,\n        selectedApproval: action.payload.approval,\n        detailStatus: \"succeeded\",\n        error: null,\n      };\n    }\n\n    case ApprovalsActionTypes.FETCH_APPROVAL_DETAIL_FAILURE: {\n      return {\n        ...state,\n        detailStatus: \"failed\",\n        error: action.payload.error,\n      };\n    }\n\n    case ApprovalsActionTypes.SELECT_APPROVAL: {\n      // Selection only - full details should be fetched separately\n      return state;\n    }\n\n    case ApprovalsActionTypes.CLEAR_SELECTED_APPROVAL: {\n      return {\n        ...state,\n        selectedApproval: null,\n        detailStatus: \"idle\",\n      };\n    }\n\n    case ApprovalsActionTypes.SET_APPROVAL_FILTERS: {\n      return {\n        ...state,\n        filters: action.payload.filters,\n        pagination: {\n          ...state.pagination,\n          currentPage: 1,\n        },\n      };\n    }\n\n    case ApprovalsActionTypes.SET_APPROVAL_STATUS_FILTER: {\n      // Create new filters, removing status key when 'all' is selected\n      const { status: _unusedStatus, ...restFilters } = state.filters;\n      const newFilters =\n        action.payload.status === \"all\"\n          ? restFilters\n          : { ...restFilters, status: action.payload.status };\n\n      return {\n        ...state,\n        activeStatusFilter: action.payload.status,\n        filters: newFilters,\n        pagination: {\n          ...state.pagination,\n          currentPage: 1,\n        },\n      };\n    }\n\n    case ApprovalsActionTypes.CLEAR_APPROVAL_FILTERS: {\n      return {\n        ...state,\n        filters: {},\n        activeStatusFilter: \"all\",\n        pagination: {\n          ...state.pagination,\n          currentPage: 1,\n        },\n      };\n    }\n\n    case ApprovalsActionTypes.SET_APPROVALS_PAGINATION: {\n      return {\n        ...state,\n        pagination: action.payload.pagination,\n      };\n    }\n\n    case ApprovalsActionTypes.SET_APPROVALS_PAGE: {\n      const newPagination = calculatePagination(\n        action.payload.page,\n        state.pagination.pageSize,\n        state.pagination.totalItems\n      );\n      return {\n        ...state,\n        pagination: newPagination,\n      };\n    }\n\n    case ApprovalsActionTypes.APPROVAL_ACTION_SUCCESS: {\n      const { approvalId, updatedApproval } = action.payload;\n\n      // Create summary from updated approval, handling optional fields properly\n      // for exactOptionalPropertyTypes compatibility\n      const baseSummary = {\n        id: updatedApproval.id,\n        requestNumber: updatedApproval.requestNumber,\n        entityType: updatedApproval.entityType,\n        entityReference: updatedApproval.entityReference,\n        entitySummary: updatedApproval.entitySummary,\n        requesterName: updatedApproval.requesterName,\n        status: updatedApproval.status,\n        currentLevel: updatedApproval.currentLevel,\n        totalLevels: updatedApproval.totalLevels,\n        priority: updatedApproval.priority,\n        createdAt: updatedApproval.createdAt,\n        isOverdue:\n          updatedApproval.dueAt !== undefined &&\n          new Date(updatedApproval.dueAt) < new Date(),\n      };\n\n      // Build the updated summary with optional properties only when defined\n      const updatedSummary = {\n        ...baseSummary,\n        ...(updatedApproval.entityAmount !== undefined && {\n          entityAmount: updatedApproval.entityAmount,\n        }),\n        ...(updatedApproval.entityCurrency !== undefined && {\n          entityCurrency: updatedApproval.entityCurrency,\n        }),\n        ...(updatedApproval.dueAt !== undefined && {\n          dueAt: updatedApproval.dueAt,\n        }),\n      };\n\n      // Update in all approvals list\n      const updatedAllApprovals = state.allApprovals.map((a) =>\n        a.id === approvalId ? updatedSummary : a\n      );\n\n      // Remove from pending if no longer pending\n      const isPending = updatedApproval.status === \"pending\";\n      const updatedPendingApprovals = isPending\n        ? state.pendingApprovals.map((a) =>\n            a.id === approvalId ? updatedSummary : a\n          )\n        : state.pendingApprovals.filter((a) => a.id !== approvalId);\n\n      // Update pending count\n      const newPendingCount = isPending\n        ? state.pendingCount\n        : Math.max(0, state.pendingCount - 1);\n\n      return {\n        ...state,\n        allApprovals: updatedAllApprovals,\n        pendingApprovals: updatedPendingApprovals,\n        pendingCount: newPendingCount,\n        selectedApproval:\n          state.selectedApproval?.id === approvalId\n            ? updatedApproval\n            : state.selectedApproval,\n      };\n    }\n\n    case ApprovalsActionTypes.UPDATE_PENDING_COUNT: {\n      return {\n        ...state,\n        pendingCount: action.payload.count,\n      };\n    }\n\n    case ApprovalsActionTypes.RESET_APPROVALS_STATE: {\n      return initialApprovalsState;\n    }\n\n    case ApprovalsActionTypes.CLEAR_APPROVALS_ERROR: {\n      return {\n        ...state,\n        error: null,\n      };\n    }\n\n    default: {\n      return state;\n    }\n  }\n}\n\nexport default approvalsReducer;\n","/**\n * Cart B2B Reducer\n *\n * Manages B2B cart state with bulk ordering, spending limits, and validation.\n * Pure function with no side effects - compatible with Redux, Zustand, or useReducer.\n *\n * @packageDocumentation\n */\n\nimport type { CartB2BState, B2BCartItem, B2BCartTotals } from \"../types/state\";\nimport type { CartB2BAction } from \"../types/actions\";\nimport { CartB2BActionTypes } from \"../types/actions\";\nimport {\n  initialCartB2BState,\n  initialCartTotals,\n  initialSpendingValidation,\n} from \"../types/state\";\n\n/**\n * Calculates cart totals from items.\n * Note: This is a simplified calculation. Real implementation would include\n * company tier discounts, volume discounts, and tax calculations from the server.\n *\n * @param items - Cart items\n * @param currentTotals - Current totals for preserving discounts/tax\n * @returns Updated cart totals\n */\nfunction calculateTotals(\n  items: readonly B2BCartItem[],\n  currentTotals: B2BCartTotals\n): B2BCartTotals {\n  const subtotal = items.reduce((sum, item) => sum + item.lineTotal, 0);\n  const totalDiscount = currentTotals.tierDiscount + currentTotals.volumeDiscount;\n  const total =\n    subtotal - totalDiscount + currentTotals.shippingEstimate + currentTotals.tax;\n\n  return {\n    ...currentTotals,\n    subtotal,\n    totalDiscount,\n    total: Math.max(0, total),\n  };\n}\n\n/**\n * Calculates total item count in cart.\n *\n * @param items - Cart items\n * @returns Total quantity of all items\n */\nfunction calculateItemCount(items: readonly B2BCartItem[]): number {\n  return items.reduce((count, item) => count + item.quantity, 0);\n}\n\n/**\n * Determines if checkout is allowed based on cart state.\n *\n * @param items - Cart items\n * @param isWithinLimits - Whether spending is within limits\n * @param shippingAddressId - Selected shipping address\n * @returns Tuple of [canCheckout, reason]\n */\nfunction determineCheckoutStatus(\n  items: readonly B2BCartItem[],\n  isWithinLimits: boolean,\n  shippingAddressId: string | null\n): readonly [boolean, string | null] {\n  if (items.length === 0) {\n    return [false, \"Cart is empty\"];\n  }\n\n  if (!isWithinLimits) {\n    return [false, \"Order exceeds spending limits\"];\n  }\n\n  if (shippingAddressId === null) {\n    return [false, \"Shipping address required\"];\n  }\n\n  // Check for invalid quantities\n  const hasInvalidQuantity = items.some(\n    (item) =>\n      item.quantity < item.minOrderQuantity ||\n      item.quantity > item.maxOrderQuantity\n  );\n\n  if (hasInvalidQuantity) {\n    return [false, \"Some items have invalid quantities\"];\n  }\n\n  return [true, null];\n}\n\n/**\n * Reducer for B2B cart state management.\n *\n * Handles:\n * - Adding, updating, and removing cart items\n * - Bulk item operations\n * - Cart metadata (shipping address, PO number, notes)\n * - Totals calculation\n * - Spending limit validation\n * - Checkout eligibility\n * - Cart persistence (hydration)\n *\n * @param state - Current cart state\n * @param action - Action to process\n * @returns New cart state\n *\n * @example\n * ```ts\n * const newState = cartB2BReducer(currentState, {\n *   type: CartB2BActionTypes.ADD_ITEM,\n *   payload: { item: cartItem }\n * });\n * ```\n */\nexport function cartB2BReducer(\n  state: CartB2BState = initialCartB2BState,\n  action: CartB2BAction\n): CartB2BState {\n  switch (action.type) {\n    case CartB2BActionTypes.ADD_ITEM: {\n      const { item } = action.payload;\n\n      // Check if item already exists\n      const existingIndex = state.items.findIndex(\n        (i) => i.productId === item.productId\n      );\n\n      let newItems: readonly B2BCartItem[];\n\n      if (existingIndex >= 0) {\n        // Update existing item quantity\n        const existingItem = state.items[existingIndex];\n        if (existingItem === undefined) {\n          return state;\n        }\n        const newQuantity = Math.min(\n          existingItem.quantity + item.quantity,\n          item.maxOrderQuantity\n        );\n        const updatedItem: B2BCartItem = {\n          ...existingItem,\n          quantity: newQuantity,\n          lineTotal: newQuantity * existingItem.unitPrice,\n        };\n        newItems = [\n          ...state.items.slice(0, existingIndex),\n          updatedItem,\n          ...state.items.slice(existingIndex + 1),\n        ];\n      } else {\n        // Add new item\n        newItems = [...state.items, item];\n      }\n\n      const newTotals = calculateTotals(newItems, state.totals);\n      const [canCheckout, checkoutBlockedReason] = determineCheckoutStatus(\n        newItems,\n        state.spendingValidation.isWithinLimits,\n        state.shippingAddressId\n      );\n\n      return {\n        ...state,\n        items: newItems,\n        itemCount: calculateItemCount(newItems),\n        totals: newTotals,\n        canCheckout,\n        checkoutBlockedReason,\n        lastUpdatedAt: new Date().toISOString(),\n      };\n    }\n\n    case CartB2BActionTypes.UPDATE_ITEM_QUANTITY: {\n      const { productId, quantity } = action.payload;\n\n      const itemIndex = state.items.findIndex((i) => i.productId === productId);\n      if (itemIndex < 0) {\n        return state;\n      }\n\n      const item = state.items[itemIndex];\n      if (item === undefined) {\n        return state;\n      }\n\n      // Validate quantity bounds\n      const validQuantity = Math.max(\n        item.minOrderQuantity,\n        Math.min(quantity, item.maxOrderQuantity)\n      );\n\n      const updatedItem: B2BCartItem = {\n        ...item,\n        quantity: validQuantity,\n        lineTotal: validQuantity * item.unitPrice,\n      };\n\n      const newItems = [\n        ...state.items.slice(0, itemIndex),\n        updatedItem,\n        ...state.items.slice(itemIndex + 1),\n      ];\n\n      const newTotals = calculateTotals(newItems, state.totals);\n      const [canCheckout, checkoutBlockedReason] = determineCheckoutStatus(\n        newItems,\n        state.spendingValidation.isWithinLimits,\n        state.shippingAddressId\n      );\n\n      return {\n        ...state,\n        items: newItems,\n        itemCount: calculateItemCount(newItems),\n        totals: newTotals,\n        canCheckout,\n        checkoutBlockedReason,\n        lastUpdatedAt: new Date().toISOString(),\n      };\n    }\n\n    case CartB2BActionTypes.REMOVE_ITEM: {\n      const { productId } = action.payload;\n\n      const newItems = state.items.filter((i) => i.productId !== productId);\n      const newTotals = calculateTotals(newItems, state.totals);\n      const [canCheckout, checkoutBlockedReason] = determineCheckoutStatus(\n        newItems,\n        state.spendingValidation.isWithinLimits,\n        state.shippingAddressId\n      );\n\n      return {\n        ...state,\n        items: newItems,\n        itemCount: calculateItemCount(newItems),\n        totals: newTotals,\n        canCheckout,\n        checkoutBlockedReason,\n        lastUpdatedAt: new Date().toISOString(),\n      };\n    }\n\n    case CartB2BActionTypes.UPDATE_ITEM_NOTES: {\n      const { productId, notes } = action.payload;\n\n      const itemIndex = state.items.findIndex((i) => i.productId === productId);\n      if (itemIndex < 0) {\n        return state;\n      }\n\n      const item = state.items[itemIndex];\n      if (item === undefined) {\n        return state;\n      }\n\n      const updatedItem: B2BCartItem = {\n        ...item,\n        notes,\n      };\n\n      const newItems = [\n        ...state.items.slice(0, itemIndex),\n        updatedItem,\n        ...state.items.slice(itemIndex + 1),\n      ];\n\n      return {\n        ...state,\n        items: newItems,\n        lastUpdatedAt: new Date().toISOString(),\n      };\n    }\n\n    case CartB2BActionTypes.CLEAR_CART: {\n      return {\n        ...initialCartB2BState,\n        shippingAddressId: state.shippingAddressId, // Preserve shipping address\n        lastUpdatedAt: new Date().toISOString(),\n      };\n    }\n\n    case CartB2BActionTypes.ADD_ITEMS_BULK: {\n      const { items: newItemsToAdd } = action.payload;\n\n      // Merge with existing items\n      const itemMap = new Map<string, B2BCartItem>();\n\n      // Add existing items\n      for (const item of state.items) {\n        itemMap.set(item.productId, item);\n      }\n\n      // Merge new items\n      for (const newItem of newItemsToAdd) {\n        const existing = itemMap.get(newItem.productId);\n        if (existing !== undefined) {\n          const newQuantity = Math.min(\n            existing.quantity + newItem.quantity,\n            newItem.maxOrderQuantity\n          );\n          itemMap.set(newItem.productId, {\n            ...existing,\n            quantity: newQuantity,\n            lineTotal: newQuantity * existing.unitPrice,\n          });\n        } else {\n          itemMap.set(newItem.productId, newItem);\n        }\n      }\n\n      const newItems = Array.from(itemMap.values());\n      const newTotals = calculateTotals(newItems, state.totals);\n      const [canCheckout, checkoutBlockedReason] = determineCheckoutStatus(\n        newItems,\n        state.spendingValidation.isWithinLimits,\n        state.shippingAddressId\n      );\n\n      return {\n        ...state,\n        items: newItems,\n        itemCount: calculateItemCount(newItems),\n        totals: newTotals,\n        canCheckout,\n        checkoutBlockedReason,\n        lastUpdatedAt: new Date().toISOString(),\n      };\n    }\n\n    case CartB2BActionTypes.SET_SHIPPING_ADDRESS: {\n      const { addressId } = action.payload;\n      const [canCheckout, checkoutBlockedReason] = determineCheckoutStatus(\n        state.items,\n        state.spendingValidation.isWithinLimits,\n        addressId\n      );\n\n      return {\n        ...state,\n        shippingAddressId: addressId,\n        canCheckout,\n        checkoutBlockedReason,\n        lastUpdatedAt: new Date().toISOString(),\n      };\n    }\n\n    case CartB2BActionTypes.SET_PURCHASE_ORDER_NUMBER: {\n      return {\n        ...state,\n        purchaseOrderNumber: action.payload.poNumber,\n        lastUpdatedAt: new Date().toISOString(),\n      };\n    }\n\n    case CartB2BActionTypes.SET_NOTES: {\n      return {\n        ...state,\n        notes: action.payload.notes,\n        lastUpdatedAt: new Date().toISOString(),\n      };\n    }\n\n    case CartB2BActionTypes.UPDATE_TOTALS: {\n      const { totals } = action.payload;\n      return {\n        ...state,\n        totals,\n        lastUpdatedAt: new Date().toISOString(),\n      };\n    }\n\n    case CartB2BActionTypes.UPDATE_SPENDING_VALIDATION: {\n      const { validation, limits } = action.payload;\n      const [canCheckout, checkoutBlockedReason] = determineCheckoutStatus(\n        state.items,\n        validation.isWithinLimits,\n        state.shippingAddressId\n      );\n\n      return {\n        ...state,\n        spendingValidation: {\n          ...validation,\n          applicableLimits: limits,\n        },\n        canCheckout,\n        checkoutBlockedReason,\n        lastUpdatedAt: new Date().toISOString(),\n      };\n    }\n\n    case CartB2BActionTypes.CART_LOADING_START: {\n      return {\n        ...state,\n        status: \"loading\",\n        error: null,\n      };\n    }\n\n    case CartB2BActionTypes.CART_LOADING_SUCCESS: {\n      return {\n        ...state,\n        status: \"succeeded\",\n        error: null,\n      };\n    }\n\n    case CartB2BActionTypes.CART_LOADING_FAILURE: {\n      return {\n        ...state,\n        status: \"failed\",\n        error: action.payload.error,\n      };\n    }\n\n    case CartB2BActionTypes.HYDRATE_CART: {\n      const { items, shippingAddressId, purchaseOrderNumber, notes } =\n        action.payload;\n\n      const newTotals = calculateTotals(items, initialCartTotals);\n      const [canCheckout, checkoutBlockedReason] = determineCheckoutStatus(\n        items,\n        initialSpendingValidation.isWithinLimits,\n        shippingAddressId\n      );\n\n      return {\n        ...state,\n        items,\n        itemCount: calculateItemCount(items),\n        totals: newTotals,\n        shippingAddressId,\n        purchaseOrderNumber,\n        notes,\n        canCheckout,\n        checkoutBlockedReason,\n        status: \"succeeded\",\n        error: null,\n        lastUpdatedAt: new Date().toISOString(),\n      };\n    }\n\n    case CartB2BActionTypes.RESET_CART_STATE: {\n      return initialCartB2BState;\n    }\n\n    case CartB2BActionTypes.CLEAR_CART_ERROR: {\n      return {\n        ...state,\n        error: null,\n      };\n    }\n\n    default: {\n      return state;\n    }\n  }\n}\n\nexport default cartB2BReducer;\n","/**\n * Reducers Module\n *\n * Exports all reducers and provides a combined root reducer.\n * All reducers are pure functions compatible with Redux, Zustand, or useReducer.\n *\n * @packageDocumentation\n */\n\nimport type { RootState } from \"../types/state\";\nimport type { RootAction } from \"../types/actions\";\nimport { initialRootState } from \"../types/state\";\n\n// Individual reducers\nexport { companyReducer, default as companyReducerDefault } from \"./company.reducer\";\nexport { quotesReducer, default as quotesReducerDefault } from \"./quotes.reducer\";\nexport { approvalsReducer, default as approvalsReducerDefault } from \"./approvals.reducer\";\nexport { cartB2BReducer, default as cartB2BReducerDefault } from \"./cart-b2b.reducer\";\n\n// Import for root reducer\nimport { companyReducer } from \"./company.reducer\";\nimport { quotesReducer } from \"./quotes.reducer\";\nimport { approvalsReducer } from \"./approvals.reducer\";\nimport { cartB2BReducer } from \"./cart-b2b.reducer\";\nimport type { CompanyAction } from \"../types/actions\";\nimport type { QuotesAction } from \"../types/actions\";\nimport type { ApprovalsAction } from \"../types/actions\";\nimport type { CartB2BAction } from \"../types/actions\";\n\n/**\n * Combined root reducer for the entire B2B application state.\n *\n * Combines all domain-specific reducers into a single reducer function.\n * Each slice of state is managed by its corresponding reducer.\n *\n * @param state - Current root state\n * @param action - Action to process\n * @returns New root state\n *\n * @example\n * ```ts\n * // With Redux\n * import { createStore } from 'redux';\n * const store = createStore(rootReducer);\n *\n * // With useReducer\n * const [state, dispatch] = useReducer(rootReducer, initialRootState);\n *\n * // With Zustand\n * const useStore = create((set) => ({\n *   ...initialRootState,\n *   dispatch: (action) => set((state) => rootReducer(state, action)),\n * }));\n * ```\n */\nexport function rootReducer(\n  state: RootState = initialRootState,\n  action: RootAction\n): RootState {\n  return {\n    company: companyReducer(state.company, action as CompanyAction),\n    quotes: quotesReducer(state.quotes, action as QuotesAction),\n    approvals: approvalsReducer(state.approvals, action as ApprovalsAction),\n    cartB2B: cartB2BReducer(state.cartB2B, action as CartB2BAction),\n  };\n}\n\nexport default rootReducer;\n\n/**\n * Type-safe reducer map for libraries that need individual reducers.\n */\nexport const reducers = {\n  company: companyReducer,\n  quotes: quotesReducer,\n  approvals: approvalsReducer,\n  cartB2B: cartB2BReducer,\n} as const;\n\n/**\n * Type representing the reducer map.\n */\nexport type Reducers = typeof reducers;\n"]}