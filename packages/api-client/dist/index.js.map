{"version":3,"sources":["../src/config.ts","../src/client.ts"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["/**\n * API Client Configuration and Factory\n *\n * Provides factory functions for creating API clients from different providers.\n */\n\nimport type {\n  ICommerceClient,\n  ApiProvider,\n  ProviderConfig,\n  CommerceClientConfig,\n  CommerceClientFactory,\n} from \"./interfaces\";\n\n/**\n * Registry of provider adapters\n */\nconst providerRegistry = new Map<ApiProvider, CommerceClientFactory>();\n\n/**\n * Register a provider adapter.\n *\n * @param provider - Provider name\n * @param factory - Factory function\n *\n * @example\n * ```typescript\n * // In @maison/api-medusa package\n * import { registerProvider } from \"@maison/api-client\";\n * import { createMedusaClient } from \"./client\";\n *\n * registerProvider(\"medusa\", createMedusaClient);\n * ```\n */\nexport function registerProvider(\n  provider: ApiProvider,\n  factory: CommerceClientFactory\n): void {\n  providerRegistry.set(provider, factory);\n}\n\n/**\n * Unregister a provider adapter.\n *\n * @param provider - Provider name\n */\nexport function unregisterProvider(provider: ApiProvider): void {\n  providerRegistry.delete(provider);\n}\n\n/**\n * Get a registered provider factory.\n *\n * @param provider - Provider name\n * @returns Factory function or undefined\n */\nexport function getProvider(provider: ApiProvider): CommerceClientFactory | undefined {\n  return providerRegistry.get(provider);\n}\n\n/**\n * Check if a provider is registered.\n *\n * @param provider - Provider name\n * @returns Whether provider is registered\n */\nexport function hasProvider(provider: ApiProvider): boolean {\n  return providerRegistry.has(provider);\n}\n\n/**\n * Get all registered providers.\n *\n * @returns Array of provider names\n */\nexport function getRegisteredProviders(): ApiProvider[] {\n  return Array.from(providerRegistry.keys());\n}\n\n/**\n * Default configuration values\n */\nexport const DEFAULT_CONFIG: Partial<CommerceClientConfig> = {\n  timeout: 30_000,\n  enableB2B: false,\n};\n\n/**\n * Validate provider configuration.\n *\n * @param config - Configuration to validate\n * @throws Error if configuration is invalid\n */\nexport function validateConfig(config: ProviderConfig): void {\n  if (!config.provider) {\n    throw new Error(\"Provider is required\");\n  }\n\n  if (!config.baseUrl) {\n    throw new Error(\"Base URL is required\");\n  }\n\n  try {\n    new URL(config.baseUrl);\n  } catch {\n    throw new Error(`Invalid base URL: ${config.baseUrl}`);\n  }\n\n  if (config.timeout !== undefined && config.timeout <= 0) {\n    throw new Error(\"Timeout must be a positive number\");\n  }\n}\n\n/**\n * Merge configuration with defaults.\n *\n * @param config - User configuration\n * @returns Merged configuration\n */\nexport function mergeConfig(config: ProviderConfig): ProviderConfig {\n  return {\n    ...DEFAULT_CONFIG,\n    ...config,\n    defaultHeaders: {\n      ...DEFAULT_CONFIG.defaultHeaders,\n      ...config.defaultHeaders,\n    },\n    b2b: config.enableB2B\n      ? {\n          ...config.b2b,\n        }\n      : undefined,\n  };\n}\n\n/**\n * Create an API client for the specified provider.\n *\n * @param config - Provider configuration\n * @returns Commerce client instance\n * @throws Error if provider is not registered or config is invalid\n *\n * @example\n * ```typescript\n * // Create Medusa client\n * const api = createApiClient({\n *   provider: \"medusa\",\n *   baseUrl: \"https://api.mystore.com\",\n *   regionId: \"reg_123\",\n *   publishableKey: \"pk_xxx\",\n *   enableB2B: true\n * });\n *\n * // Create Bridge client\n * const bridgeApi = createApiClient({\n *   provider: \"bridge\",\n *   baseUrl: \"https://bridge.mycompany.com\",\n *   authToken: \"api_key_xxx\"\n * });\n * ```\n */\nexport function createApiClient(config: ProviderConfig): ICommerceClient {\n  // Validate configuration\n  validateConfig(config);\n\n  // Check if provider is registered\n  const factory = providerRegistry.get(config.provider);\n  if (!factory) {\n    const available = getRegisteredProviders();\n    throw new Error(\n      `Provider \"${config.provider}\" is not registered. ` +\n        `Available providers: ${available.length > 0 ? available.join(\", \") : \"none\"}. ` +\n        `Make sure to import the provider package (e.g., @maison/api-medusa).`\n    );\n  }\n\n  // Merge with defaults\n  const mergedConfig = mergeConfig(config);\n\n  // Create and return client\n  return factory(mergedConfig);\n}\n\n/**\n * Configuration builder for fluent API.\n */\nexport class ApiClientConfigBuilder {\n  private config: Partial<ProviderConfig> = {};\n\n  /**\n   * Set the provider.\n   */\n  provider(provider: ApiProvider): this {\n    this.config.provider = provider;\n    return this;\n  }\n\n  /**\n   * Set the base URL.\n   */\n  baseUrl(url: string): this {\n    this.config.baseUrl = url;\n    return this;\n  }\n\n  /**\n   * Set the region ID.\n   */\n  regionId(id: string): this {\n    this.config.regionId = id;\n    return this;\n  }\n\n  /**\n   * Set the publishable key.\n   */\n  publishableKey(key: string): this {\n    this.config.publishableKey = key;\n    return this;\n  }\n\n  /**\n   * Set the auth token.\n   */\n  authToken(token: string): this {\n    this.config.authToken = token;\n    return this;\n  }\n\n  /**\n   * Set the timeout.\n   */\n  timeout(ms: number): this {\n    this.config.timeout = ms;\n    return this;\n  }\n\n  /**\n   * Add default headers.\n   */\n  headers(headers: Record<string, string>): this {\n    this.config.defaultHeaders = {\n      ...this.config.defaultHeaders,\n      ...headers,\n    };\n    return this;\n  }\n\n  /**\n   * Enable B2B features.\n   */\n  enableB2B(companyId?: string, employeeId?: string): this {\n    this.config.enableB2B = true;\n    this.config.b2b = { companyId, employeeId };\n    return this;\n  }\n\n  /**\n   * Set provider-specific options.\n   */\n  providerOptions(options: Record<string, unknown>): this {\n    this.config.providerOptions = {\n      ...this.config.providerOptions,\n      ...options,\n    };\n    return this;\n  }\n\n  /**\n   * Build the client.\n   */\n  build(): ICommerceClient {\n    if (!this.config.provider || !this.config.baseUrl) {\n      throw new Error(\"Provider and baseUrl are required\");\n    }\n    return createApiClient(this.config as ProviderConfig);\n  }\n}\n\n/**\n * Start building an API client configuration.\n *\n * @example\n * ```typescript\n * const api = apiClient()\n *   .provider(\"medusa\")\n *   .baseUrl(\"https://api.mystore.com\")\n *   .regionId(\"reg_123\")\n *   .enableB2B(\"comp_456\")\n *   .build();\n * ```\n */\nexport function apiClient(): ApiClientConfigBuilder {\n  return new ApiClientConfigBuilder();\n}\n","/**\n * API Client Manager\n *\n * Singleton manager for API client instances.\n * Useful for maintaining a global client instance in applications.\n */\n\nimport type { ICommerceClient, ApiProvider, ProviderConfig } from \"./interfaces\";\nimport { createApiClient } from \"./config\";\n\n/**\n * Client instance with metadata\n */\ninterface ClientInstance {\n  client: ICommerceClient;\n  config: ProviderConfig;\n  createdAt: Date;\n}\n\n/**\n * API Client Manager - Singleton pattern for managing API client instances.\n *\n * @example\n * ```typescript\n * // Initialize once at app startup\n * ApiClientManager.initialize({\n *   provider: \"medusa\",\n *   baseUrl: \"https://api.mystore.com\",\n *   regionId: \"reg_123\"\n * });\n *\n * // Use anywhere in the app\n * const products = await ApiClientManager.getClient().products.list();\n * ```\n */\nexport class ApiClientManager {\n  private static instances = new Map<string, ClientInstance>();\n  private static defaultInstanceKey: string | null = null;\n\n  /**\n   * Private constructor to prevent instantiation.\n   */\n  private constructor() {}\n\n  /**\n   * Generate a unique key for a configuration.\n   */\n  private static generateKey(config: ProviderConfig): string {\n    return `${config.provider}:${config.baseUrl}`;\n  }\n\n  /**\n   * Initialize the default API client.\n   *\n   * @param config - Provider configuration\n   * @returns The initialized client\n   *\n   * @example\n   * ```typescript\n   * ApiClientManager.initialize({\n   *   provider: \"medusa\",\n   *   baseUrl: \"https://api.mystore.com\",\n   *   regionId: \"reg_123\",\n   *   enableB2B: true\n   * });\n   * ```\n   */\n  static initialize(config: ProviderConfig): ICommerceClient {\n    const key = this.generateKey(config);\n    const client = createApiClient(config);\n\n    this.instances.set(key, {\n      client,\n      config,\n      createdAt: new Date(),\n    });\n\n    // Set as default if first instance or no default set\n    if (!this.defaultInstanceKey) {\n      this.defaultInstanceKey = key;\n    }\n\n    return client;\n  }\n\n  /**\n   * Get the default client instance.\n   *\n   * @returns The default client\n   * @throws Error if no client is initialized\n   *\n   * @example\n   * ```typescript\n   * const api = ApiClientManager.getClient();\n   * const products = await api.products.list();\n   * ```\n   */\n  static getClient(): ICommerceClient {\n    if (!this.defaultInstanceKey) {\n      throw new Error(\n        \"API client not initialized. Call ApiClientManager.initialize() first.\"\n      );\n    }\n\n    const instance = this.instances.get(this.defaultInstanceKey);\n    if (!instance) {\n      throw new Error(\"Default client instance not found.\");\n    }\n\n    return instance.client;\n  }\n\n  /**\n   * Get a specific client by provider and base URL.\n   *\n   * @param provider - Provider type\n   * @param baseUrl - Base URL\n   * @returns The client or undefined\n   */\n  static getClientByKey(provider: ApiProvider, baseUrl: string): ICommerceClient | undefined {\n    const key = `${provider}:${baseUrl}`;\n    return this.instances.get(key)?.client;\n  }\n\n  /**\n   * Create and register a named client.\n   *\n   * @param name - Client name\n   * @param config - Provider configuration\n   * @returns The created client\n   *\n   * @example\n   * ```typescript\n   * // Create multiple clients\n   * ApiClientManager.createNamed(\"primary\", {\n   *   provider: \"medusa\",\n   *   baseUrl: \"https://primary.mystore.com\"\n   * });\n   *\n   * ApiClientManager.createNamed(\"secondary\", {\n   *   provider: \"bridge\",\n   *   baseUrl: \"https://bridge.mystore.com\"\n   * });\n   *\n   * // Use specific client\n   * const api = ApiClientManager.getNamed(\"secondary\");\n   * ```\n   */\n  static createNamed(name: string, config: ProviderConfig): ICommerceClient {\n    const client = createApiClient(config);\n\n    this.instances.set(name, {\n      client,\n      config,\n      createdAt: new Date(),\n    });\n\n    return client;\n  }\n\n  /**\n   * Get a named client.\n   *\n   * @param name - Client name\n   * @returns The client\n   * @throws Error if client not found\n   */\n  static getNamed(name: string): ICommerceClient {\n    const instance = this.instances.get(name);\n    if (!instance) {\n      throw new Error(`API client \"${name}\" not found.`);\n    }\n    return instance.client;\n  }\n\n  /**\n   * Check if a named client exists.\n   *\n   * @param name - Client name\n   * @returns Whether client exists\n   */\n  static hasNamed(name: string): boolean {\n    return this.instances.has(name);\n  }\n\n  /**\n   * Set the default client.\n   *\n   * @param name - Client name to set as default\n   * @throws Error if client not found\n   */\n  static setDefault(name: string): void {\n    if (!this.instances.has(name)) {\n      throw new Error(`API client \"${name}\" not found.`);\n    }\n    this.defaultInstanceKey = name;\n  }\n\n  /**\n   * Remove a client instance.\n   *\n   * @param name - Client name\n   */\n  static remove(name: string): void {\n    this.instances.delete(name);\n    if (this.defaultInstanceKey === name) {\n      // Set first remaining instance as default, or null\n      const firstKey = this.instances.keys().next().value as string | undefined;\n      this.defaultInstanceKey = firstKey ?? null;\n    }\n  }\n\n  /**\n   * Clear all client instances.\n   */\n  static clear(): void {\n    this.instances.clear();\n    this.defaultInstanceKey = null;\n  }\n\n  /**\n   * Get all registered client names.\n   *\n   * @returns Array of client names\n   */\n  static getClientNames(): string[] {\n    return Array.from(this.instances.keys());\n  }\n\n  /**\n   * Check if manager is initialized.\n   *\n   * @returns Whether any client is registered\n   */\n  static isInitialized(): boolean {\n    return this.instances.size > 0;\n  }\n\n  /**\n   * Get client metadata.\n   *\n   * @param name - Client name (optional, defaults to default client)\n   * @returns Client metadata\n   */\n  static getMetadata(name?: string): {\n    provider: ApiProvider;\n    baseUrl: string;\n    createdAt: Date;\n    enableB2B: boolean;\n  } | null {\n    const key = name ?? this.defaultInstanceKey;\n    if (!key) return null;\n\n    const instance = this.instances.get(key);\n    if (!instance) return null;\n\n    return {\n      provider: instance.config.provider,\n      baseUrl: instance.config.baseUrl,\n      createdAt: instance.createdAt,\n      enableB2B: instance.config.enableB2B ?? false,\n    };\n  }\n}\n\n/**\n * Convenience function to get the default client.\n * Equivalent to ApiClientManager.getClient().\n *\n * @example\n * ```typescript\n * import { getApiClient } from \"@maison/api-client\";\n *\n * const api = getApiClient();\n * const products = await api.products.list();\n * ```\n */\nexport function getApiClient(): ICommerceClient {\n  return ApiClientManager.getClient();\n}\n\n/**\n * Convenience function to get a named client.\n * Equivalent to ApiClientManager.getNamed(name).\n */\nexport function getNamedClient(name: string): ICommerceClient {\n  return ApiClientManager.getNamed(name);\n}\n"]}