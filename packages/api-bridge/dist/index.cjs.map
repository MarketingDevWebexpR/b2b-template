{"version":3,"sources":["../src/mappers/product.ts","../src/services/products.ts","../src/services/inventory.ts","../src/services/sync.ts","../src/client.ts","../src/index.ts"],"names":["BaseApiClient","registerProvider"],"mappings":"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","file":"index.cjs","sourcesContent":["/**\n * Product mappers for Laravel Bridge API responses\n *\n * Maps Laravel Bridge API product format to domain Product type.\n */\n\nimport type { Product, Category } from \"@maison/types\";\n\n/**\n * Laravel Bridge raw product structure\n */\nexport interface BridgeRawProduct {\n  id: string | number;\n  sku: string;\n  name: string;\n  name_en?: string;\n  slug?: string;\n  description?: string;\n  short_description?: string;\n  price: number | string;\n  sale_price?: number | string | null;\n  currency?: string;\n  is_price_ttc?: boolean;\n  quantity?: number;\n  stock_status?: \"in_stock\" | \"out_of_stock\" | \"backorder\";\n  images?: BridgeRawImage[];\n  categories?: BridgeRawCategory[];\n  attributes?: Record<string, string | number | boolean>;\n  metadata?: Record<string, unknown>;\n  created_at?: string;\n  updated_at?: string;\n  weight?: number;\n  weight_unit?: \"g\" | \"kg\";\n  brand?: string;\n  origin?: string;\n  warranty?: number;\n  barcode?: string;\n  is_active?: boolean;\n  is_featured?: boolean;\n  is_new?: boolean;\n  collection?: string;\n  style?: string;\n  materials?: string[];\n}\n\nexport interface BridgeRawImage {\n  id?: string | number;\n  url: string;\n  alt?: string;\n  position?: number;\n  is_primary?: boolean;\n}\n\nexport interface BridgeRawCategory {\n  id: string | number;\n  name: string;\n  slug?: string;\n  description?: string;\n  image?: string;\n  product_count?: number;\n}\n\n/**\n * Parse price from Bridge API (can be string or number)\n */\nfunction parsePrice(value: string | number | null | undefined): number {\n  if (value === null || value === undefined) return 0;\n  if (typeof value === \"number\") return value;\n  const parsed = parseFloat(value.replace(/[^0-9.-]/g, \"\"));\n  return isNaN(parsed) ? 0 : parsed;\n}\n\n/**\n * Generate slug from name if not provided\n */\nfunction generateSlug(name: string, sku: string): string {\n  if (!name) return sku.toLowerCase().replace(/[^a-z0-9]+/g, \"-\");\n  return name\n    .toLowerCase()\n    .normalize(\"NFD\")\n    .replace(/[\\u0300-\\u036f]/g, \"\")\n    .replace(/[^a-z0-9]+/g, \"-\")\n    .replace(/^-|-$/g, \"\");\n}\n\n/**\n * Map Bridge category to domain Category\n */\nexport function mapBridgeCategory(raw: BridgeRawCategory): Category {\n  return {\n    id: raw.id.toString(),\n    name: raw.name,\n    slug: raw.slug ?? generateSlug(raw.name, raw.id.toString()),\n    description: raw.description ?? \"\",\n    image: raw.image ?? \"\",\n    productCount: raw.product_count ?? 0,\n  };\n}\n\n/**\n * Map Bridge product to domain Product\n *\n * @param raw - Raw product from Bridge API\n * @param currency - Currency code (default: EUR) - used for formatting, not stored\n * @returns Domain Product object\n *\n * @example\n * ```typescript\n * const bridgeProduct = await bridgeApi.get('/products/123');\n * const product = mapBridgeProduct(bridgeProduct.data, 'EUR');\n * ```\n */\nexport function mapBridgeProduct(raw: BridgeRawProduct, _currency = \"EUR\"): Product {\n  const price = parsePrice(raw.price);\n  const salePrice = raw.sale_price ? parsePrice(raw.sale_price) : null;\n  const hasDiscount = salePrice !== null && salePrice < price;\n\n  // Map images - extract URLs\n  const images = raw.images?.map((img) => img.url) ?? [];\n\n  // Determine availability\n  let isAvailable = true;\n  if (raw.is_active === false) {\n    isAvailable = false;\n  } else if (raw.stock_status === \"out_of_stock\") {\n    isAvailable = false;\n  } else if (raw.quantity !== undefined && raw.quantity <= 0) {\n    isAvailable = false;\n  }\n\n  // Get primary category\n  const primaryCategory = raw.categories?.[0];\n\n  return {\n    id: raw.id.toString(),\n    reference: raw.sku,\n    name: raw.name,\n    slug: raw.slug ?? generateSlug(raw.name, raw.sku),\n    description: raw.description ?? \"\",\n    shortDescription: raw.short_description ?? \"\",\n    price: hasDiscount && salePrice !== null ? salePrice : price,\n    isPriceTTC: raw.is_price_ttc ?? false,\n    images,\n    categoryId: primaryCategory?.id.toString() ?? \"\",\n    materials: raw.materials ?? [],\n    weightUnit: raw.weight_unit ?? \"g\",\n    stock: raw.quantity ?? 0,\n    isAvailable,\n    featured: raw.is_featured ?? false,\n    isNew: raw.is_new ?? false,\n    createdAt: raw.created_at ?? new Date().toISOString(),\n    // Optional properties - only include when they have values\n    ...(raw.name_en && { nameEn: raw.name_en }),\n    ...(raw.barcode && { ean: raw.barcode }),\n    ...(hasDiscount && { compareAtPrice: price }),\n    ...(primaryCategory && { category: mapBridgeCategory(primaryCategory) }),\n    ...(raw.collection && { collection: raw.collection }),\n    ...(raw.style && { style: raw.style }),\n    ...(raw.weight !== undefined && { weight: raw.weight }),\n    ...(raw.brand && { brand: raw.brand }),\n    ...(raw.origin && { origin: raw.origin }),\n    ...(raw.warranty !== undefined && { warranty: raw.warranty }),\n  };\n}\n\n/**\n * Map array of Bridge products to domain Products\n */\nexport function mapBridgeProducts(\n  rawProducts: BridgeRawProduct[],\n  currency = \"EUR\"\n): Product[] {\n  return rawProducts.map((p) => mapBridgeProduct(p, currency));\n}\n","/**\n * Bridge Product Service\n *\n * Implements IProductService for Laravel Bridge backend.\n */\n\nimport type { BaseApiClient, PaginatedResponse } from \"@maison/api-core\";\nimport type {\n  IProductService,\n  ListProductsOptions,\n  ProductWithRelated,\n  ProductSearchResult,\n  ProductInventory,\n  GetProductOptions,\n} from \"@maison/api-client\";\nimport type { Product } from \"@maison/types\";\nimport { mapBridgeProduct, mapBridgeProducts, type BridgeRawProduct } from \"../mappers/product\";\n\n/**\n * Bridge API products response format\n */\ninterface BridgeProductsResponse {\n  data: BridgeRawProduct[];\n  meta?: {\n    current_page?: number;\n    last_page?: number;\n    per_page?: number;\n    total?: number;\n    from?: number;\n    to?: number;\n  };\n  links?: {\n    first?: string;\n    last?: string;\n    prev?: string | null;\n    next?: string | null;\n  };\n}\n\ninterface BridgeSingleProductResponse {\n  data: BridgeRawProduct;\n}\n\ninterface BridgeInventoryResponse {\n  data: {\n    product_id: string;\n    sku: string;\n    available: number;\n    reserved: number;\n    incoming?: number;\n    incoming_date?: string;\n  };\n}\n\ninterface BridgeBulkInventoryResponse {\n  data: Array<{\n    product_id: string;\n    sku: string;\n    available: number;\n    reserved: number;\n    incoming?: number;\n    incoming_date?: string;\n  }>;\n}\n\n/**\n * Bridge Product Service implementation.\n *\n * Provides product operations via Laravel Bridge API.\n *\n * @example\n * ```typescript\n * const service = new BridgeProductService(httpClient, 'EUR');\n * const products = await service.list({ pageSize: 20 });\n * const product = await service.get('prod-123');\n * ```\n */\nexport class BridgeProductService implements IProductService {\n  constructor(\n    private readonly client: BaseApiClient,\n    private readonly currency = \"EUR\"\n  ) {}\n\n  /**\n   * List products with optional filtering and pagination.\n   */\n  async list(options: ListProductsOptions = {}): Promise<PaginatedResponse<Product>> {\n    const {\n      page = 1,\n      pageSize = 20,\n      categoryId,\n      collection,\n      search,\n      sortBy,\n      sortOrder,\n      filters,\n    } = options;\n\n    // Build query parameters for Laravel API\n    const params = new URLSearchParams();\n    params.set(\"page\", String(page));\n    params.set(\"per_page\", String(pageSize));\n\n    if (categoryId) {\n      params.set(\"category_id\", categoryId);\n    }\n    if (collection) {\n      params.set(\"collection\", collection);\n    }\n    if (search) {\n      params.set(\"search\", search);\n    }\n    if (sortBy) {\n      params.set(\"sort_by\", sortBy);\n      params.set(\"sort_order\", sortOrder ?? \"asc\");\n    }\n    if (filters) {\n      for (const [key, value] of Object.entries(filters)) {\n        if (Array.isArray(value)) {\n          value.forEach((v) => params.append(`filter[${key}][]`, String(v)));\n        } else if (value !== undefined && value !== null) {\n          params.set(`filter[${key}]`, String(value));\n        }\n      }\n    }\n\n    const response = await this.client.get<BridgeProductsResponse>(\n      `/products?${params.toString()}`\n    );\n\n    const products = mapBridgeProducts(response.data.data, this.currency);\n    const meta = response.data.meta;\n\n    return {\n      items: products,\n      total: meta?.total ?? products.length,\n      page: meta?.current_page ?? page,\n      pageSize: meta?.per_page ?? pageSize,\n      hasNextPage: meta?.current_page !== undefined && meta?.last_page !== undefined\n        ? meta.current_page < meta.last_page\n        : false,\n      hasPreviousPage: (meta?.current_page ?? page) > 1,\n    };\n  }\n\n  /**\n   * Get a single product by ID.\n   */\n  async get(id: string, options?: GetProductOptions): Promise<ProductWithRelated> {\n    const params = new URLSearchParams();\n    if (options?.includeRelated) {\n      params.set(\"include_related\", \"true\");\n      if (options.relatedLimit) {\n        params.set(\"related_limit\", String(options.relatedLimit));\n      }\n    }\n\n    const queryString = params.toString();\n    const url = queryString ? `/products/${id}?${queryString}` : `/products/${id}`;\n\n    const response = await this.client.get<BridgeSingleProductResponse & {\n      related?: BridgeRawProduct[];\n    }>(url);\n\n    const product = mapBridgeProduct(response.data.data, this.currency);\n    const relatedProducts = response.data.related\n      ? mapBridgeProducts(response.data.related, this.currency)\n      : undefined;\n\n    return {\n      ...product,\n      ...(relatedProducts && { relatedProducts }),\n    };\n  }\n\n  /**\n   * Get a product by slug/handle.\n   */\n  async getBySlug(slug: string, options?: GetProductOptions): Promise<ProductWithRelated> {\n    const params = new URLSearchParams();\n    if (options?.includeRelated) {\n      params.set(\"include_related\", \"true\");\n    }\n\n    const queryString = params.toString();\n    const url = queryString ? `/products/slug/${slug}?${queryString}` : `/products/slug/${slug}`;\n\n    const response = await this.client.get<BridgeSingleProductResponse & {\n      related?: BridgeRawProduct[];\n    }>(url);\n\n    const product = mapBridgeProduct(response.data.data, this.currency);\n    const relatedProducts = response.data.related\n      ? mapBridgeProducts(response.data.related, this.currency)\n      : undefined;\n\n    return {\n      ...product,\n      ...(relatedProducts && { relatedProducts }),\n    };\n  }\n\n  /**\n   * Get a product by SKU.\n   */\n  async getBySku(sku: string, options?: GetProductOptions): Promise<ProductWithRelated> {\n    const params = new URLSearchParams();\n    if (options?.includeRelated) {\n      params.set(\"include_related\", \"true\");\n    }\n\n    const queryString = params.toString();\n    const url = queryString ? `/products/sku/${sku}?${queryString}` : `/products/sku/${sku}`;\n\n    const response = await this.client.get<BridgeSingleProductResponse & {\n      related?: BridgeRawProduct[];\n    }>(url);\n\n    const product = mapBridgeProduct(response.data.data, this.currency);\n    const relatedProducts = response.data.related\n      ? mapBridgeProducts(response.data.related, this.currency)\n      : undefined;\n\n    return {\n      ...product,\n      ...(relatedProducts && { relatedProducts }),\n    };\n  }\n\n  /**\n   * Get multiple products by IDs.\n   */\n  async getMany(ids: string[]): Promise<Product[]> {\n    if (ids.length === 0) return [];\n\n    const params = new URLSearchParams();\n    ids.forEach((id) => params.append(\"ids[]\", id));\n\n    const response = await this.client.get<BridgeProductsResponse>(\n      `/products/batch?${params.toString()}`\n    );\n\n    return mapBridgeProducts(response.data.data, this.currency);\n  }\n\n  /**\n   * Search products by query string.\n   */\n  async search(\n    query: string,\n    options: ListProductsOptions = {}\n  ): Promise<ProductSearchResult> {\n    const result = await this.list({ ...options, search: query });\n\n    return {\n      products: [...result.items],\n      total: result.total,\n      // suggestions and facets are optional and not available from Bridge API\n    };\n  }\n\n  /**\n   * Get products by category ID.\n   */\n  async getByCategory(\n    categoryId: string,\n    options: Omit<ListProductsOptions, \"categoryId\"> = {}\n  ): Promise<PaginatedResponse<Product>> {\n    return this.list({ ...options, categoryId });\n  }\n\n  /**\n   * Get featured products.\n   */\n  async getFeatured(limit = 10): Promise<Product[]> {\n    const response = await this.client.get<BridgeProductsResponse>(\n      `/products/featured?limit=${limit}`\n    );\n    return mapBridgeProducts(response.data.data, this.currency);\n  }\n\n  /**\n   * Get new products.\n   */\n  async getNew(limit = 10, daysBack = 30): Promise<Product[]> {\n    const response = await this.client.get<BridgeProductsResponse>(\n      `/products/new?limit=${limit}&days_back=${daysBack}`\n    );\n    return mapBridgeProducts(response.data.data, this.currency);\n  }\n\n  /**\n   * Get product inventory information.\n   */\n  async getInventory(productId: string): Promise<ProductInventory> {\n    const response = await this.client.get<BridgeInventoryResponse>(\n      `/products/${productId}/inventory`\n    );\n\n    const inv = response.data.data;\n    return {\n      productId: inv.product_id,\n      sku: inv.sku,\n      available: inv.available,\n      reserved: inv.reserved,\n      ...(inv.incoming !== undefined && { incoming: inv.incoming }),\n      ...(inv.incoming_date !== undefined && { incomingDate: inv.incoming_date }),\n    };\n  }\n\n  /**\n   * Get inventory for multiple products.\n   */\n  async getInventoryBulk(productIds: string[]): Promise<Map<string, ProductInventory>> {\n    if (productIds.length === 0) return new Map();\n\n    const params = new URLSearchParams();\n    productIds.forEach((id) => params.append(\"product_ids[]\", id));\n\n    const response = await this.client.get<BridgeBulkInventoryResponse>(\n      `/products/inventory?${params.toString()}`\n    );\n\n    const result = new Map<string, ProductInventory>();\n    for (const inv of response.data.data) {\n      result.set(inv.product_id, {\n        productId: inv.product_id,\n        sku: inv.sku,\n        available: inv.available,\n        reserved: inv.reserved,\n        ...(inv.incoming !== undefined && { incoming: inv.incoming }),\n        ...(inv.incoming_date !== undefined && { incomingDate: inv.incoming_date }),\n      });\n    }\n\n    return result;\n  }\n}\n","/**\n * Bridge Inventory Service\n *\n * Provides real-time inventory operations via Laravel Bridge API.\n * This service is specific to Bridge adapter and not part of ICommerceClient.\n */\n\nimport type { BaseApiClient } from \"@maison/api-core\";\n\n/**\n * Inventory item from Bridge API\n */\nexport interface BridgeInventoryItem {\n  sku: string;\n  product_id?: string;\n  variant_id?: string;\n  quantity: number;\n  reserved?: number;\n  available: number;\n  location?: string;\n  warehouse_id?: string;\n  last_updated: string;\n  low_stock_threshold?: number;\n  is_low_stock?: boolean;\n  reorder_point?: number;\n  expected_restock_date?: string | null;\n}\n\n/**\n * Inventory update request\n */\nexport interface InventoryUpdateRequest {\n  sku: string;\n  quantity: number;\n  adjustment_type: \"set\" | \"increment\" | \"decrement\";\n  reason?: string;\n  location?: string;\n}\n\n/**\n * Inventory reservation request\n */\nexport interface InventoryReservation {\n  sku: string;\n  quantity: number;\n  reference_type: \"cart\" | \"order\" | \"quote\";\n  reference_id: string;\n  expires_at?: string;\n}\n\n/**\n * Inventory sync status\n */\nexport interface InventorySyncStatus {\n  last_sync: string;\n  status: \"synced\" | \"pending\" | \"error\";\n  items_synced: number;\n  items_failed: number;\n  next_sync?: string;\n  errors?: Array<{ sku: string; message: string }>;\n}\n\n/**\n * Bridge Inventory Service\n *\n * Provides real-time inventory management for B2B operations.\n *\n * @example\n * ```typescript\n * const inventory = new BridgeInventoryService(httpClient);\n *\n * // Check stock for multiple SKUs\n * const stock = await inventory.checkStock(['SKU001', 'SKU002']);\n *\n * // Reserve inventory for a cart\n * await inventory.reserve({\n *   sku: 'SKU001',\n *   quantity: 5,\n *   reference_type: 'cart',\n *   reference_id: 'cart_123'\n * });\n * ```\n */\nexport class BridgeInventoryService {\n  constructor(private readonly client: BaseApiClient) {}\n\n  /**\n   * Get inventory for a single SKU\n   */\n  async getBySku(sku: string): Promise<BridgeInventoryItem> {\n    const response = await this.client.get<{ data: BridgeInventoryItem }>(\n      `/inventory/${encodeURIComponent(sku)}`\n    );\n    return response.data.data;\n  }\n\n  /**\n   * Check stock for multiple SKUs\n   */\n  async checkStock(skus: string[]): Promise<BridgeInventoryItem[]> {\n    if (skus.length === 0) return [];\n\n    const response = await this.client.post<{ data: BridgeInventoryItem[] }>(\n      \"/inventory/check\",\n      { skus }\n    );\n    return response.data.data;\n  }\n\n  /**\n   * Check if specific quantities are available\n   */\n  async checkAvailability(\n    items: Array<{ sku: string; quantity: number }>\n  ): Promise<\n    Array<{\n      sku: string;\n      requested: number;\n      available: number;\n      is_available: boolean;\n    }>\n  > {\n    const response = await this.client.post<{\n      data: Array<{\n        sku: string;\n        requested: number;\n        available: number;\n        is_available: boolean;\n      }>;\n    }>(\"/inventory/availability\", { items });\n    return response.data.data;\n  }\n\n  /**\n   * Reserve inventory for a cart, order, or quote\n   */\n  async reserve(reservation: InventoryReservation): Promise<{\n    reservation_id: string;\n    sku: string;\n    quantity: number;\n    expires_at: string;\n  }> {\n    const response = await this.client.post<{\n      data: {\n        reservation_id: string;\n        sku: string;\n        quantity: number;\n        expires_at: string;\n      };\n    }>(\"/inventory/reserve\", reservation);\n    return response.data.data;\n  }\n\n  /**\n   * Reserve inventory for multiple items\n   */\n  async reserveMany(\n    reservations: InventoryReservation[]\n  ): Promise<\n    Array<{\n      reservation_id: string;\n      sku: string;\n      quantity: number;\n      expires_at: string;\n      success: boolean;\n      error?: string;\n    }>\n  > {\n    const response = await this.client.post<{\n      data: Array<{\n        reservation_id: string;\n        sku: string;\n        quantity: number;\n        expires_at: string;\n        success: boolean;\n        error?: string;\n      }>;\n    }>(\"/inventory/reserve-many\", { reservations });\n    return response.data.data;\n  }\n\n  /**\n   * Release a reservation\n   */\n  async releaseReservation(reservationId: string): Promise<void> {\n    await this.client.delete(`/inventory/reservations/${reservationId}`);\n  }\n\n  /**\n   * Release all reservations for a reference (cart/order/quote)\n   */\n  async releaseByReference(\n    referenceType: \"cart\" | \"order\" | \"quote\",\n    referenceId: string\n  ): Promise<{ released_count: number }> {\n    const response = await this.client.delete<{\n      data: { released_count: number };\n    }>(`/inventory/reservations/${referenceType}/${referenceId}`);\n    return response.data.data;\n  }\n\n  /**\n   * Confirm reservation (convert to actual stock deduction)\n   */\n  async confirmReservation(reservationId: string): Promise<void> {\n    await this.client.post(`/inventory/reservations/${reservationId}/confirm`);\n  }\n\n  /**\n   * Update inventory (admin operation)\n   */\n  async update(request: InventoryUpdateRequest): Promise<BridgeInventoryItem> {\n    const response = await this.client.put<{ data: BridgeInventoryItem }>(\n      `/inventory/${encodeURIComponent(request.sku)}`,\n      request\n    );\n    return response.data.data;\n  }\n\n  /**\n   * Batch update inventory (admin operation)\n   */\n  async updateMany(\n    updates: InventoryUpdateRequest[]\n  ): Promise<Array<BridgeInventoryItem & { success: boolean; error?: string }>> {\n    const response = await this.client.post<{\n      data: Array<BridgeInventoryItem & { success: boolean; error?: string }>;\n    }>(\"/inventory/batch\", { updates });\n    return response.data.data;\n  }\n\n  /**\n   * Get low stock items\n   */\n  async getLowStock(options?: {\n    threshold?: number;\n    warehouse_id?: string;\n    page?: number;\n    per_page?: number;\n  }): Promise<{\n    items: BridgeInventoryItem[];\n    total: number;\n    page: number;\n    per_page: number;\n  }> {\n    const params = new URLSearchParams();\n    if (options?.threshold) params.set(\"threshold\", String(options.threshold));\n    if (options?.warehouse_id) params.set(\"warehouse_id\", options.warehouse_id);\n    if (options?.page) params.set(\"page\", String(options.page));\n    if (options?.per_page) params.set(\"per_page\", String(options.per_page));\n\n    const response = await this.client.get<{\n      data: BridgeInventoryItem[];\n      meta: { total: number; current_page: number; per_page: number };\n    }>(`/inventory/low-stock?${params.toString()}`);\n\n    return {\n      items: response.data.data,\n      total: response.data.meta.total,\n      page: response.data.meta.current_page,\n      per_page: response.data.meta.per_page,\n    };\n  }\n\n  /**\n   * Get sync status\n   */\n  async getSyncStatus(): Promise<InventorySyncStatus> {\n    const response = await this.client.get<{ data: InventorySyncStatus }>(\n      \"/inventory/sync-status\"\n    );\n    return response.data.data;\n  }\n\n  /**\n   * Trigger manual sync (admin operation)\n   */\n  async triggerSync(options?: {\n    full?: boolean;\n    skus?: string[];\n  }): Promise<{ job_id: string; status: string }> {\n    const response = await this.client.post<{\n      data: { job_id: string; status: string };\n    }>(\"/inventory/sync\", options ?? {});\n    return response.data.data;\n  }\n}\n","/**\n * Bridge Sync Service\n *\n * Handles data synchronization between external ERP/systems and the e-commerce platform.\n */\n\nimport type { BaseApiClient } from \"@maison/api-core\";\n\n/**\n * Sync job status\n */\nexport type SyncJobStatus =\n  | \"pending\"\n  | \"running\"\n  | \"completed\"\n  | \"failed\"\n  | \"cancelled\";\n\n/**\n * Sync entity types\n */\nexport type SyncEntityType =\n  | \"products\"\n  | \"inventory\"\n  | \"prices\"\n  | \"customers\"\n  | \"orders\"\n  | \"categories\";\n\n/**\n * Sync job details\n */\nexport interface SyncJob {\n  id: string;\n  entity_type: SyncEntityType;\n  direction: \"import\" | \"export\" | \"bidirectional\";\n  status: SyncJobStatus;\n  progress: number;\n  total_items: number;\n  processed_items: number;\n  failed_items: number;\n  created_at: string;\n  started_at?: string;\n  completed_at?: string;\n  error_message?: string;\n  metadata?: Record<string, unknown>;\n}\n\n/**\n * Sync log entry\n */\nexport interface SyncLogEntry {\n  id: string;\n  job_id: string;\n  level: \"info\" | \"warning\" | \"error\";\n  message: string;\n  entity_type?: SyncEntityType;\n  entity_id?: string;\n  details?: Record<string, unknown>;\n  created_at: string;\n}\n\n/**\n * Sync configuration\n */\nexport interface SyncConfig {\n  entity_type: SyncEntityType;\n  enabled: boolean;\n  schedule?: string; // cron expression\n  last_sync?: string;\n  next_sync?: string;\n  options?: {\n    full_sync?: boolean;\n    batch_size?: number;\n    conflict_resolution?: \"source\" | \"target\" | \"newest\" | \"manual\";\n    filters?: Record<string, unknown>;\n  };\n}\n\n/**\n * Webhook event for sync notifications\n */\nexport interface SyncWebhookEvent {\n  event: \"sync.started\" | \"sync.completed\" | \"sync.failed\" | \"sync.progress\";\n  job_id: string;\n  entity_type: SyncEntityType;\n  timestamp: string;\n  data?: Record<string, unknown>;\n}\n\n/**\n * Bridge Sync Service\n *\n * Manages data synchronization between external systems and the platform.\n *\n * @example\n * ```typescript\n * const sync = new BridgeSyncService(httpClient);\n *\n * // Start a product sync\n * const job = await sync.startSync('products', {\n *   full_sync: false,\n *   batch_size: 100\n * });\n *\n * // Check sync status\n * const status = await sync.getJobStatus(job.id);\n * ```\n */\nexport class BridgeSyncService {\n  constructor(private readonly client: BaseApiClient) {}\n\n  // ==========================================\n  // Sync Jobs\n  // ==========================================\n\n  /**\n   * Start a new sync job\n   */\n  async startSync(\n    entityType: SyncEntityType,\n    options?: {\n      full_sync?: boolean;\n      batch_size?: number;\n      filters?: Record<string, unknown>;\n      direction?: \"import\" | \"export\" | \"bidirectional\";\n    }\n  ): Promise<SyncJob> {\n    const response = await this.client.post<{ data: SyncJob }>(\n      \"/sync/jobs\",\n      {\n        entity_type: entityType,\n        direction: options?.direction ?? \"import\",\n        options,\n      }\n    );\n    return response.data.data;\n  }\n\n  /**\n   * Get sync job status\n   */\n  async getJobStatus(jobId: string): Promise<SyncJob> {\n    const response = await this.client.get<{ data: SyncJob }>(\n      `/sync/jobs/${jobId}`\n    );\n    return response.data.data;\n  }\n\n  /**\n   * List sync jobs with optional filtering\n   */\n  async listJobs(options?: {\n    entity_type?: SyncEntityType;\n    status?: SyncJobStatus;\n    page?: number;\n    per_page?: number;\n  }): Promise<{\n    items: SyncJob[];\n    total: number;\n    page: number;\n    per_page: number;\n  }> {\n    const params = new URLSearchParams();\n    if (options?.entity_type) params.set(\"entity_type\", options.entity_type);\n    if (options?.status) params.set(\"status\", options.status);\n    if (options?.page) params.set(\"page\", String(options.page));\n    if (options?.per_page) params.set(\"per_page\", String(options.per_page));\n\n    const response = await this.client.get<{\n      data: SyncJob[];\n      meta: { total: number; current_page: number; per_page: number };\n    }>(`/sync/jobs?${params.toString()}`);\n\n    return {\n      items: response.data.data,\n      total: response.data.meta.total,\n      page: response.data.meta.current_page,\n      per_page: response.data.meta.per_page,\n    };\n  }\n\n  /**\n   * Cancel a running sync job\n   */\n  async cancelJob(jobId: string): Promise<SyncJob> {\n    const response = await this.client.post<{ data: SyncJob }>(\n      `/sync/jobs/${jobId}/cancel`\n    );\n    return response.data.data;\n  }\n\n  /**\n   * Retry a failed sync job\n   */\n  async retryJob(jobId: string): Promise<SyncJob> {\n    const response = await this.client.post<{ data: SyncJob }>(\n      `/sync/jobs/${jobId}/retry`\n    );\n    return response.data.data;\n  }\n\n  // ==========================================\n  // Sync Logs\n  // ==========================================\n\n  /**\n   * Get logs for a sync job\n   */\n  async getJobLogs(\n    jobId: string,\n    options?: {\n      level?: \"info\" | \"warning\" | \"error\";\n      page?: number;\n      per_page?: number;\n    }\n  ): Promise<{\n    items: SyncLogEntry[];\n    total: number;\n    page: number;\n    per_page: number;\n  }> {\n    const params = new URLSearchParams();\n    if (options?.level) params.set(\"level\", options.level);\n    if (options?.page) params.set(\"page\", String(options.page));\n    if (options?.per_page) params.set(\"per_page\", String(options.per_page));\n\n    const response = await this.client.get<{\n      data: SyncLogEntry[];\n      meta: { total: number; current_page: number; per_page: number };\n    }>(`/sync/jobs/${jobId}/logs?${params.toString()}`);\n\n    return {\n      items: response.data.data,\n      total: response.data.meta.total,\n      page: response.data.meta.current_page,\n      per_page: response.data.meta.per_page,\n    };\n  }\n\n  /**\n   * Get errors for a sync job\n   */\n  async getJobErrors(jobId: string): Promise<SyncLogEntry[]> {\n    const result = await this.getJobLogs(jobId, { level: \"error\", per_page: 1000 });\n    return result.items;\n  }\n\n  // ==========================================\n  // Sync Configuration\n  // ==========================================\n\n  /**\n   * Get sync configuration for an entity type\n   */\n  async getConfig(entityType: SyncEntityType): Promise<SyncConfig> {\n    const response = await this.client.get<{ data: SyncConfig }>(\n      `/sync/config/${entityType}`\n    );\n    return response.data.data;\n  }\n\n  /**\n   * List all sync configurations\n   */\n  async listConfigs(): Promise<SyncConfig[]> {\n    const response = await this.client.get<{ data: SyncConfig[] }>(\"/sync/config\");\n    return response.data.data;\n  }\n\n  /**\n   * Update sync configuration\n   */\n  async updateConfig(\n    entityType: SyncEntityType,\n    config: Partial<Omit<SyncConfig, \"entity_type\" | \"last_sync\" | \"next_sync\">>\n  ): Promise<SyncConfig> {\n    const response = await this.client.put<{ data: SyncConfig }>(\n      `/sync/config/${entityType}`,\n      config\n    );\n    return response.data.data;\n  }\n\n  // ==========================================\n  // Quick Sync Operations\n  // ==========================================\n\n  /**\n   * Sync a specific product by ID or SKU\n   */\n  async syncProduct(identifier: string, by: \"id\" | \"sku\" = \"id\"): Promise<{\n    success: boolean;\n    product_id?: string;\n    error?: string;\n  }> {\n    const response = await this.client.post<{\n      data: { success: boolean; product_id?: string; error?: string };\n    }>(\"/sync/product\", { identifier, by });\n    return response.data.data;\n  }\n\n  /**\n   * Sync multiple products\n   */\n  async syncProducts(\n    identifiers: string[],\n    by: \"id\" | \"sku\" = \"id\"\n  ): Promise<\n    Array<{\n      identifier: string;\n      success: boolean;\n      product_id?: string;\n      error?: string;\n    }>\n  > {\n    const response = await this.client.post<{\n      data: Array<{\n        identifier: string;\n        success: boolean;\n        product_id?: string;\n        error?: string;\n      }>;\n    }>(\"/sync/products\", { identifiers, by });\n    return response.data.data;\n  }\n\n  /**\n   * Sync inventory for specific SKUs\n   */\n  async syncInventory(skus?: string[]): Promise<SyncJob> {\n    const response = await this.client.post<{ data: SyncJob }>(\n      \"/sync/inventory\",\n      { skus }\n    );\n    return response.data.data;\n  }\n\n  /**\n   * Sync prices for specific products\n   */\n  async syncPrices(productIds?: string[]): Promise<SyncJob> {\n    const response = await this.client.post<{ data: SyncJob }>(\n      \"/sync/prices\",\n      { product_ids: productIds }\n    );\n    return response.data.data;\n  }\n\n  // ==========================================\n  // Webhooks\n  // ==========================================\n\n  /**\n   * Register a webhook for sync events\n   */\n  async registerWebhook(\n    url: string,\n    events: SyncWebhookEvent[\"event\"][],\n    secret?: string\n  ): Promise<{ webhook_id: string }> {\n    const response = await this.client.post<{ data: { webhook_id: string } }>(\n      \"/sync/webhooks\",\n      { url, events, secret }\n    );\n    return response.data.data;\n  }\n\n  /**\n   * List registered webhooks\n   */\n  async listWebhooks(): Promise<\n    Array<{\n      id: string;\n      url: string;\n      events: SyncWebhookEvent[\"event\"][];\n      active: boolean;\n      created_at: string;\n    }>\n  > {\n    const response = await this.client.get<{\n      data: Array<{\n        id: string;\n        url: string;\n        events: SyncWebhookEvent[\"event\"][];\n        active: boolean;\n        created_at: string;\n      }>;\n    }>(\"/sync/webhooks\");\n    return response.data.data;\n  }\n\n  /**\n   * Delete a webhook\n   */\n  async deleteWebhook(webhookId: string): Promise<void> {\n    await this.client.delete(`/sync/webhooks/${webhookId}`);\n  }\n\n  // ==========================================\n  // Health & Stats\n  // ==========================================\n\n  /**\n   * Get overall sync health status\n   */\n  async getHealth(): Promise<{\n    status: \"healthy\" | \"degraded\" | \"unhealthy\";\n    last_successful_sync?: string;\n    pending_jobs: number;\n    failed_jobs_24h: number;\n    entities: Array<{\n      type: SyncEntityType;\n      status: \"synced\" | \"pending\" | \"error\";\n      last_sync?: string;\n      error_count: number;\n    }>;\n  }> {\n    const response = await this.client.get<{\n      data: {\n        status: \"healthy\" | \"degraded\" | \"unhealthy\";\n        last_successful_sync?: string;\n        pending_jobs: number;\n        failed_jobs_24h: number;\n        entities: Array<{\n          type: SyncEntityType;\n          status: \"synced\" | \"pending\" | \"error\";\n          last_sync?: string;\n          error_count: number;\n        }>;\n      };\n    }>(\"/sync/health\");\n    return response.data.data;\n  }\n\n  /**\n   * Get sync statistics\n   */\n  async getStats(options?: {\n    period?: \"day\" | \"week\" | \"month\";\n    entity_type?: SyncEntityType;\n  }): Promise<{\n    total_jobs: number;\n    successful_jobs: number;\n    failed_jobs: number;\n    total_items_synced: number;\n    average_duration_seconds: number;\n    by_entity: Record<\n      SyncEntityType,\n      {\n        jobs: number;\n        items: number;\n        errors: number;\n      }\n    >;\n  }> {\n    const params = new URLSearchParams();\n    if (options?.period) params.set(\"period\", options.period);\n    if (options?.entity_type) params.set(\"entity_type\", options.entity_type);\n\n    const response = await this.client.get<{\n      data: {\n        total_jobs: number;\n        successful_jobs: number;\n        failed_jobs: number;\n        total_items_synced: number;\n        average_duration_seconds: number;\n        by_entity: Record<\n          SyncEntityType,\n          {\n            jobs: number;\n            items: number;\n            errors: number;\n          }\n        >;\n      };\n    }>(`/sync/stats?${params.toString()}`);\n    return response.data.data;\n  }\n}\n","/**\n * Bridge Commerce Client\n *\n * Full implementation of ICommerceClient for Laravel Bridge backend.\n * Primarily used for inventory sync and product data from external ERP systems.\n */\n\nimport type {\n  ICommerceClient,\n  IB2BServices,\n  IProductService,\n  ICategoryService,\n  ICartService,\n  IOrderService,\n  ICustomerService,\n  CommerceClientConfig,\n  ApiProvider,\n} from \"@maison/api-client\";\nimport { BaseApiClient, type ApiClientConfig } from \"@maison/api-core\";\nimport { BridgeProductService } from \"./services/products\";\nimport { BridgeInventoryService } from \"./services/inventory\";\nimport { BridgeSyncService } from \"./services/sync\";\n\n/**\n * Bridge-specific configuration options\n */\nexport interface BridgeConfig extends CommerceClientConfig {\n  /** API key for Bridge authentication */\n  apiKey?: string;\n  /** Tenant/store identifier for multi-tenant setups */\n  tenantId?: string;\n  /** Currency code (default: EUR) */\n  currency?: string;\n  /** Enable inventory sync features */\n  enableInventorySync?: boolean;\n  /** Enable full sync service */\n  enableSyncService?: boolean;\n}\n\n/**\n * Extended BaseApiClient that supports dynamic header management\n */\nclass BridgeApiClient extends BaseApiClient {\n  private dynamicHeaders: Record<string, string> = {};\n\n  constructor(config: ApiClientConfig) {\n    super(config);\n  }\n\n  /**\n   * Set a dynamic header\n   */\n  setDynamicHeader(name: string, value: string): void {\n    this.dynamicHeaders[name] = value;\n  }\n\n  /**\n   * Remove a dynamic header\n   */\n  removeDynamicHeader(name: string): void {\n    delete this.dynamicHeaders[name];\n  }\n\n  /**\n   * Override buildHeaders to include dynamic headers\n   */\n  protected override buildHeaders(\n    customHeaders?: Record<string, string>\n  ): Headers {\n    const baseHeaders = super.buildHeaders(customHeaders);\n\n    // Add dynamic headers\n    for (const [name, value] of Object.entries(this.dynamicHeaders)) {\n      baseHeaders.set(name, value);\n    }\n\n    return baseHeaders;\n  }\n}\n\n/**\n * Bridge Commerce Client implementation.\n *\n * Provides ICommerceClient interface for Laravel Bridge backend.\n * This adapter is specialized for:\n * - Product catalog sync from external ERP/PIM systems\n * - Real-time inventory management\n * - Price sync with external systems\n *\n * @example\n * ```typescript\n * const client = new BridgeCommerceClient({\n *   baseUrl: \"https://bridge.example.com/api\",\n *   apiKey: \"your-api-key\",\n *   currency: \"EUR\",\n *   enableInventorySync: true\n * });\n *\n * // Get products from bridge\n * const products = await client.products.list({ pageSize: 20 });\n *\n * // Check inventory (bridge-specific)\n * const stock = await client.inventory.checkStock(['SKU001', 'SKU002']);\n *\n * // Start a sync job\n * const job = await client.sync.startSync('products');\n * ```\n */\nexport class BridgeCommerceClient implements ICommerceClient {\n  // ApiAdapter interface\n  readonly name = \"bridge\";\n  readonly version = \"1.0\";\n\n  // ICommerceClient interface\n  readonly provider: ApiProvider = \"bridge\";\n  readonly config: CommerceClientConfig;\n\n  private readonly httpClient: BridgeApiClient;\n  private readonly bridgeConfig: BridgeConfig;\n  private authToken: string | null = null;\n  private b2bContext: { companyId?: string; employeeId?: string } | null = null;\n  private initialized = false;\n\n  // Service instances (lazy initialized)\n  private _products: IProductService | null = null;\n  private _categories: ICategoryService | null = null;\n  private _cart: ICartService | null = null;\n  private _orders: IOrderService | null = null;\n  private _customers: ICustomerService | null = null;\n  private _b2b: IB2BServices | null = null;\n\n  // Bridge-specific services\n  private _inventory: BridgeInventoryService | null = null;\n  private _sync: BridgeSyncService | null = null;\n\n  constructor(config: BridgeConfig) {\n    this.config = config;\n    this.bridgeConfig = config;\n\n    // Build default headers\n    const defaultHeaders: Record<string, string> = {\n      \"Content-Type\": \"application/json\",\n      Accept: \"application/json\",\n      ...config.defaultHeaders,\n    };\n\n    // Add API key if provided\n    if (config.apiKey) {\n      defaultHeaders[\"X-Api-Key\"] = config.apiKey;\n    }\n\n    // Add tenant ID if provided\n    if (config.tenantId) {\n      defaultHeaders[\"X-Tenant-Id\"] = config.tenantId;\n    }\n\n    // Initialize HTTP client\n    this.httpClient = new BridgeApiClient({\n      baseUrl: config.baseUrl,\n      defaultHeaders,\n      ...(config.timeout !== undefined && { timeout: config.timeout }),\n    });\n\n    // Initialize B2B context if provided\n    if (config.enableB2B && config.b2b) {\n      this.b2bContext = {\n        ...(config.b2b.companyId && { companyId: config.b2b.companyId }),\n        ...(config.b2b.employeeId && { employeeId: config.b2b.employeeId }),\n      };\n    }\n\n    this.initialized = true;\n  }\n\n  // ==========================================\n  // ApiAdapter Interface\n  // ==========================================\n\n  async initialize(): Promise<void> {\n    this.initialized = true;\n  }\n\n  isConfigured(): boolean {\n    return this.initialized && !!this.config.baseUrl;\n  }\n\n  async healthCheck(): Promise<boolean> {\n    try {\n      await this.httpClient.get(\"/health\");\n      return true;\n    } catch {\n      return false;\n    }\n  }\n\n  // ==========================================\n  // Service Accessors (Lazy Initialization)\n  // ==========================================\n\n  get products(): IProductService {\n    if (!this._products) {\n      this._products = new BridgeProductService(\n        this.httpClient,\n        this.bridgeConfig.currency ?? \"EUR\"\n      );\n    }\n    return this._products;\n  }\n\n  get categories(): ICategoryService {\n    if (!this._categories) {\n      this._categories = this.createStubCategoryService();\n    }\n    return this._categories;\n  }\n\n  get cart(): ICartService {\n    if (!this._cart) {\n      this._cart = this.createStubCartService();\n    }\n    return this._cart;\n  }\n\n  get orders(): IOrderService {\n    if (!this._orders) {\n      this._orders = this.createStubOrderService();\n    }\n    return this._orders;\n  }\n\n  get customers(): ICustomerService {\n    if (!this._customers) {\n      this._customers = this.createStubCustomerService();\n    }\n    return this._customers;\n  }\n\n  get b2b(): IB2BServices | null {\n    if (!this.config.enableB2B) {\n      return null;\n    }\n    if (!this._b2b) {\n      this._b2b = this.createStubB2BServices();\n    }\n    return this._b2b;\n  }\n\n  // ==========================================\n  // Bridge-Specific Service Accessors\n  // ==========================================\n\n  /**\n   * Get inventory service for real-time stock management.\n   * This is a Bridge-specific feature not part of ICommerceClient.\n   */\n  get inventory(): BridgeInventoryService {\n    if (!this._inventory) {\n      this._inventory = new BridgeInventoryService(this.httpClient);\n    }\n    return this._inventory;\n  }\n\n  /**\n   * Get sync service for data synchronization.\n   * This is a Bridge-specific feature not part of ICommerceClient.\n   */\n  get sync(): BridgeSyncService {\n    if (!this._sync) {\n      this._sync = new BridgeSyncService(this.httpClient);\n    }\n    return this._sync;\n  }\n\n  // ==========================================\n  // Authentication Methods\n  // ==========================================\n\n  setAuthToken(token: string): void {\n    this.authToken = token;\n    this.httpClient.setDynamicHeader(\"Authorization\", `Bearer ${token}`);\n  }\n\n  clearAuth(): void {\n    this.authToken = null;\n    this.httpClient.removeDynamicHeader(\"Authorization\");\n  }\n\n  getAuthToken(): string | null {\n    return this.authToken;\n  }\n\n  // ==========================================\n  // B2B Context Methods\n  // ==========================================\n\n  setB2BContext(companyId: string, employeeId?: string): void {\n    this.b2bContext = employeeId\n      ? { companyId, employeeId }\n      : { companyId };\n    this.httpClient.setDynamicHeader(\"X-Company-Id\", companyId);\n    if (employeeId) {\n      this.httpClient.setDynamicHeader(\"X-Employee-Id\", employeeId);\n    }\n  }\n\n  clearB2BContext(): void {\n    this.b2bContext = null;\n    this.httpClient.removeDynamicHeader(\"X-Company-Id\");\n    this.httpClient.removeDynamicHeader(\"X-Employee-Id\");\n  }\n\n  getB2BContext(): { companyId?: string; employeeId?: string } | null {\n    return this.b2bContext;\n  }\n\n  isB2BEnabled(): boolean {\n    return this.config.enableB2B ?? false;\n  }\n\n  // ==========================================\n  // HTTP Client Access\n  // ==========================================\n\n  getHttpClient() {\n    return {\n      get: <T>(path: string, options?: Record<string, unknown>) =>\n        this.httpClient.get<T>(path, options).then((r) => r.data),\n      post: <T>(path: string, body?: unknown, options?: Record<string, unknown>) =>\n        this.httpClient.post<T>(path, body, options).then((r) => r.data),\n      put: <T>(path: string, body?: unknown, options?: Record<string, unknown>) =>\n        this.httpClient.put<T>(path, body, options).then((r) => r.data),\n      patch: <T>(path: string, body?: unknown, options?: Record<string, unknown>) =>\n        this.httpClient.patch<T>(path, body, options).then((r) => r.data),\n      delete: <T>(path: string, options?: Record<string, unknown>) =>\n        this.httpClient.delete<T>(path, options).then((r) => r.data),\n    };\n  }\n\n  // ==========================================\n  // Stub Services\n  // Note: Bridge is primarily for product/inventory sync.\n  // Cart, orders, and checkout are typically handled by the primary\n  // e-commerce platform (Medusa, Shopify, etc.)\n  // ==========================================\n\n  private createStubCategoryService(): ICategoryService {\n    return {\n      list: async () => [],\n      get: async () => {\n        throw new Error(\"Category service not implemented for Bridge adapter\");\n      },\n      getBySlug: async () => {\n        throw new Error(\"Category service not implemented for Bridge adapter\");\n      },\n      getTree: async () => [],\n      getRoots: async () => [],\n      getChildren: async () => [],\n      getBreadcrumbs: async () => [],\n      getMany: async () => [],\n    };\n  }\n\n  private createStubCartService(): ICartService {\n    const notImplemented = (): never => {\n      throw new Error(\n        \"Cart service not implemented for Bridge adapter. \" +\n          \"Bridge is for product/inventory sync only. \" +\n          \"Use Medusa or another provider for cart operations.\"\n      );\n    };\n\n    return {\n      get: notImplemented,\n      create: notImplemented,\n      addItem: notImplemented,\n      updateItem: notImplemented,\n      removeItem: notImplemented,\n      addItemsBulk: notImplemented,\n      clear: notImplemented,\n      applyDiscount: notImplemented,\n      removeDiscount: notImplemented,\n      setShippingOption: notImplemented,\n      getShippingOptions: async () => [],\n      setCustomer: notImplemented,\n      setAddresses: notImplemented,\n      updateMetadata: notImplemented,\n      delete: async () => {},\n      merge: notImplemented,\n    };\n  }\n\n  private createStubOrderService(): IOrderService {\n    const notImplemented = (): never => {\n      throw new Error(\n        \"Order service not implemented for Bridge adapter. \" +\n          \"Bridge is for product/inventory sync only.\"\n      );\n    };\n\n    const emptyPaginated = () => ({\n      items: [],\n      total: 0,\n      page: 1,\n      pageSize: 20,\n      hasNextPage: false,\n      hasPreviousPage: false,\n    });\n\n    return {\n      list: async () => emptyPaginated(),\n      get: notImplemented,\n      getByNumber: notImplemented,\n      create: notImplemented,\n      createDirect: notImplemented,\n      cancel: notImplemented,\n      updateNotes: notImplemented,\n      getFulfillments: async () => [],\n      getRefunds: async () => [],\n      requestRefund: notImplemented,\n      getCustomerOrders: async () => emptyPaginated(),\n      getCompanyOrders: async () => emptyPaginated(),\n      reorder: notImplemented,\n      getInvoiceUrl: notImplemented,\n      track: notImplemented,\n    };\n  }\n\n  private createStubCustomerService(): ICustomerService {\n    const notImplemented = (): never => {\n      throw new Error(\n        \"Customer service not implemented for Bridge adapter. \" +\n          \"Bridge is for product/inventory sync only.\"\n      );\n    };\n\n    return {\n      getCurrent: notImplemented,\n      get: notImplemented,\n      getByEmail: notImplemented,\n      update: notImplemented,\n      register: notImplemented,\n      login: notImplemented,\n      logout: async () => {},\n      refreshToken: notImplemented,\n      requestPasswordReset: notImplemented,\n      resetPassword: notImplemented,\n      changePassword: notImplemented,\n      listAddresses: async () => [],\n      getAddress: notImplemented,\n      addAddress: notImplemented,\n      updateAddress: notImplemented,\n      deleteAddress: async () => {},\n      setDefaultAddress: notImplemented,\n      getDefaultShippingAddress: async () => null,\n      getDefaultBillingAddress: async () => null,\n      delete: async () => {},\n    };\n  }\n\n  private createStubB2BServices(): IB2BServices {\n    const notImplemented = (): never => {\n      throw new Error(\n        \"B2B service not implemented for Bridge adapter. \" +\n          \"Use Medusa with B2B plugins for B2B operations.\"\n      );\n    };\n\n    const emptyPaginated = () => ({\n      items: [],\n      total: 0,\n      page: 1,\n      pageSize: 20,\n      hasNextPage: false,\n      hasPreviousPage: false,\n    });\n\n    return {\n      companies: {\n        list: async () => emptyPaginated(),\n        get: notImplemented,\n        getBySlug: notImplemented,\n        getCurrent: async () => null,\n        register: notImplemented,\n        update: notImplemented,\n        updateStatus: notImplemented,\n        updateTier: notImplemented,\n        listAddresses: async () => [],\n        addAddress: notImplemented,\n        updateAddress: notImplemented,\n        deleteAddress: async () => {},\n        setDefaultAddress: notImplemented,\n        getCreditInfo: notImplemented,\n        adjustCredit: notImplemented,\n        getCreditHistory: async () => emptyPaginated(),\n        updateCreditLimit: notImplemented,\n        addTags: notImplemented,\n        removeTags: notImplemented,\n        delete: async () => {},\n      },\n      employees: {\n        list: async () => emptyPaginated(),\n        get: notImplemented,\n        getCurrent: notImplemented,\n        invite: notImplemented,\n        resendInvitation: notImplemented,\n        cancelInvitation: async () => {},\n        acceptInvitation: notImplemented,\n        listInvitations: async () => [],\n        update: notImplemented,\n        updateStatus: notImplemented,\n        updateRole: notImplemented,\n        updatePermissions: notImplemented,\n        updateSpendingLimits: notImplemented,\n        resetSpending: notImplemented,\n        getPermissions: async () => [],\n        hasPermission: async () => false,\n        login: notImplemented,\n        logout: async () => {},\n        refreshToken: notImplemented,\n        changePassword: async () => {},\n        requestPasswordReset: async () => {},\n        resetPassword: async () => {},\n        getActivity: async () => emptyPaginated(),\n        listDepartments: async () => [],\n        createDepartment: notImplemented,\n        updateDepartment: notImplemented,\n        deleteDepartment: async () => {},\n        getByDepartment: async () => [],\n        delete: async () => {},\n      },\n      quotes: {\n        list: async () => emptyPaginated(),\n        get: notImplemented,\n        getByNumber: notImplemented,\n        createFromCart: notImplemented,\n        create: notImplemented,\n        update: notImplemented,\n        submit: notImplemented,\n        accept: notImplemented,\n        reject: notImplemented,\n        cancel: notImplemented,\n        convertToOrder: notImplemented,\n        convertToCart: notImplemented,\n        requestRevision: notImplemented,\n        createRevision: notImplemented,\n        addItem: notImplemented,\n        updateItem: notImplemented,\n        removeItem: notImplemented,\n        getMessages: async () => [],\n        sendMessage: notImplemented,\n        markMessagesRead: async () => {},\n        uploadAttachment: notImplemented,\n        deleteAttachment: async () => {},\n        generatePdf: notImplemented,\n        getPdfUrl: notImplemented,\n        getByCompany: async () => emptyPaginated(),\n        getByEmployee: async () => emptyPaginated(),\n        getRequiringAttention: async () => [],\n        delete: async () => {},\n      },\n      approvals: {\n        list: async () => emptyPaginated(),\n        get: notImplemented,\n        getByNumber: notImplemented,\n        getMyPending: async () => emptyPaginated(),\n        getMySubmitted: async () => emptyPaginated(),\n        getStats: notImplemented,\n        takeAction: notImplemented,\n        approve: notImplemented,\n        reject: notImplemented,\n        delegate: notImplemented,\n        escalate: notImplemented,\n        requestInfo: notImplemented,\n        addComment: notImplemented,\n        listWorkflows: async () => [],\n        getWorkflow: notImplemented,\n        createWorkflow: notImplemented,\n        updateWorkflow: notImplemented,\n        deleteWorkflow: async () => {},\n        activateWorkflow: notImplemented,\n        deactivateWorkflow: notImplemented,\n        listDelegations: async () => [],\n        createDelegation: notImplemented,\n        cancelDelegation: async () => {},\n        getMyDelegations: async () => [],\n        getDelegationsToMe: async () => [],\n        approveMany: async () => new Map(),\n        rejectMany: async () => new Map(),\n      },\n      spending: {\n        listLimits: async () => [],\n        getLimit: notImplemented,\n        getEmployeeLimits: async () => [],\n        getDepartmentLimits: async () => [],\n        createLimit: notImplemented,\n        updateLimit: notImplemented,\n        deleteLimit: async () => {},\n        resetLimit: notImplemented,\n        listRules: async () => [],\n        getRule: notImplemented,\n        createRule: notImplemented,\n        updateRule: notImplemented,\n        deleteRule: async () => {},\n        activateRule: notImplemented,\n        deactivateRule: notImplemented,\n        checkPurchase: async () => ({\n          allowed: true,\n          affectedLimits: [],\n          triggeredRules: [],\n          requiresApproval: false,\n        }),\n        getRemainingBudget: async () => 0,\n        listTransactions: async () => emptyPaginated(),\n        getEmployeeTransactions: async () => emptyPaginated(),\n        recordAdjustment: notImplemented,\n        getReport: notImplemented,\n        getBudgetSummaries: async () => [],\n        getEmployeeBudgetSummary: async () => [],\n        getDepartmentBudgetSummary: notImplemented,\n        exportReport: notImplemented,\n        getAlerts: async () => [],\n        dismissAlert: async () => {},\n      },\n    };\n  }\n}\n\n/**\n * Create a Bridge commerce client.\n *\n * @param config - Client configuration\n * @returns Bridge commerce client\n *\n * @example\n * ```typescript\n * const client = createBridgeClient({\n *   baseUrl: \"https://bridge.example.com/api\",\n *   apiKey: \"your-api-key\",\n *   currency: \"EUR\"\n * });\n *\n * // Check product inventory\n * const stock = await client.inventory.checkStock(['SKU001']);\n * ```\n */\nexport function createBridgeClient(config: BridgeConfig): BridgeCommerceClient {\n  return new BridgeCommerceClient(config);\n}\n","/**\n * @maison/api-bridge\n *\n * Laravel Bridge adapter for the unified commerce API client.\n *\n * This package provides ICommerceClient implementation for Laravel Bridge backend,\n * specialized for:\n * - Product catalog synchronization from external ERP/PIM systems\n * - Real-time inventory management\n * - Price synchronization\n * - Data sync between e-commerce platform and external systems\n *\n * @packageDocumentation\n *\n * @example\n * ```typescript\n * import { createBridgeClient, registerBridgeProvider } from \"@maison/api-bridge\";\n * import { createApiClient, registerProvider } from \"@maison/api-client\";\n *\n * // Option 1: Direct creation\n * const bridgeClient = createBridgeClient({\n *   baseUrl: \"https://bridge.example.com/api\",\n *   apiKey: \"your-api-key\",\n *   currency: \"EUR\",\n *   enableInventorySync: true\n * });\n *\n * // Option 2: Register with api-client factory\n * registerBridgeProvider();\n * const client = createApiClient({\n *   provider: \"bridge\",\n *   baseUrl: \"https://bridge.example.com/api\",\n *   providerOptions: {\n *     apiKey: \"your-api-key\",\n *     currency: \"EUR\"\n *   }\n * });\n *\n * // Use for product sync\n * const products = await client.products.list({ pageSize: 100 });\n *\n * // Bridge-specific: Check inventory (requires BridgeCommerceClient)\n * const bridgeTyped = bridgeClient;\n * const stock = await bridgeTyped.inventory.checkStock(['SKU001', 'SKU002']);\n *\n * // Bridge-specific: Start sync job\n * const job = await bridgeTyped.sync.startSync('products');\n * ```\n */\n\nimport {\n  registerProvider,\n  type ProviderConfig,\n  type ICommerceClient,\n} from \"@maison/api-client\";\nimport {\n  BridgeCommerceClient,\n  createBridgeClient,\n  type BridgeConfig,\n} from \"./client\";\n\n// Export client and factory\nexport {\n  BridgeCommerceClient,\n  createBridgeClient,\n  type BridgeConfig,\n} from \"./client\";\n\n// Export services\nexport {\n  BridgeProductService,\n} from \"./services/products\";\n\nexport {\n  BridgeInventoryService,\n  type BridgeInventoryItem,\n  type InventoryUpdateRequest,\n  type InventoryReservation,\n  type InventorySyncStatus,\n} from \"./services/inventory\";\n\nexport {\n  BridgeSyncService,\n  type SyncJob,\n  type SyncJobStatus,\n  type SyncEntityType,\n  type SyncLogEntry,\n  type SyncConfig,\n  type SyncWebhookEvent,\n} from \"./services/sync\";\n\n// Export mappers\nexport * from \"./mappers\";\n\n/**\n * Register Bridge provider with the api-client factory.\n *\n * After calling this, you can use `createApiClient({ provider: \"bridge\", ... })`\n * to create Bridge clients through the unified factory.\n *\n * @example\n * ```typescript\n * import { registerBridgeProvider } from \"@maison/api-bridge\";\n * import { createApiClient } from \"@maison/api-client\";\n *\n * // Register once at app startup\n * registerBridgeProvider();\n *\n * // Now create clients using the factory\n * const client = createApiClient({\n *   provider: \"bridge\",\n *   baseUrl: \"https://bridge.example.com/api\",\n *   providerOptions: {\n *     apiKey: \"your-api-key\"\n *   }\n * });\n * ```\n */\nexport function registerBridgeProvider(): void {\n  registerProvider(\"bridge\", (config: ProviderConfig): ICommerceClient => {\n    const opts = config.providerOptions ?? {};\n    const apiKey = opts[\"apiKey\"] as string | undefined;\n    const tenantId = opts[\"tenantId\"] as string | undefined;\n    const currency = (opts[\"currency\"] as string | undefined) ?? \"EUR\";\n    const enableInventorySync = (opts[\"enableInventorySync\"] as boolean | undefined) ?? true;\n    const enableSyncService = (opts[\"enableSyncService\"] as boolean | undefined) ?? true;\n\n    const bridgeConfig: BridgeConfig = {\n      ...config,\n      currency,\n      enableInventorySync,\n      enableSyncService,\n      ...(apiKey !== undefined && { apiKey }),\n      ...(tenantId !== undefined && { tenantId }),\n    };\n    return createBridgeClient(bridgeConfig);\n  });\n}\n\n// Auto-register provider when module is imported (side effect)\ntry {\n  registerBridgeProvider();\n} catch {\n  // Provider might already be registered, ignore\n}\n"]}